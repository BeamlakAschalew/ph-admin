import{A as E,r as w,x as Y,a as z,c as d,o as r,d as e,b as x,l as $,f as S,u as l,k as V,n as q,g as v,v as P,t as c,m as W,C as X,w as I,W as O,e as D,F as C,h as M,p as R}from"./app-D-33lkhQ.js";import{c as N,P as J}from"./pill-CxX2CbJ5.js";import{M as K,X as Z}from"./x-KGhZKjFV.js";import{l as ee}from"./lodash-Dizs4fhD.js";import te from"./MainLayout-BMqNxUxX.js";const B=E("consumer",()=>{const y=w(""),o=w(0),n=w({products:[],customProducts:[]});function m(p){o.value++,n.value.products.push(p)}function g(p){o.value++,n.value.customProducts.push(p)}function b(p){n.value.products=n.value.products.filter(h=>h.id!==p),o.value=Math.max(0,o.value-1)}function _(p){n.value.customProducts=n.value.customProducts.filter(h=>h.id!==p),o.value=Math.max(0,o.value-1)}function j(){n.value.products=[],n.value.customProducts=[],o.value=0}return{searchQuery:y,cartCount:o,cartItems:n,addToCart:m,addCustomProductToCart:g,deleteProduct:b,deleteCustomProduct:_,clearCart:j}});/**
 * @license lucide-vue-next v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const se=N("package-x",[["path",{d:"M21 10V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l2-1.14",key:"e7tb2h"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["line",{x1:"12",x2:"12",y1:"22",y2:"12",key:"a4e8g8"}],["path",{d:"m17 13 5 5m-5 0 5-5",key:"im3w4b"}]]);/**
 * @license lucide-vue-next v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L=N("search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-vue-next v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A=N("shopping-cart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]),oe={class:"sticky top-0 z-50 flex w-full flex-wrap border-b border-gray-200 bg-white text-sm sm:flex-nowrap sm:justify-start"},le={class:"relative mx-auto w-full max-w-[85rem] px-4 sm:flex sm:items-center sm:justify-between sm:px-6 lg:px-8","aria-label":"Global"},re={class:"mr-5 flex items-center justify-between"},ae={class:"sm:hidden"},ne=["aria-expanded"],ie={class:"mt-5 flex flex-col gap-5 sm:mt-0 sm:flex-row sm:items-center sm:justify-end sm:pl-5"},de={class:"relative max-w-xl flex-1"},ue={class:"pointer-events-none absolute inset-y-0 start-0 flex items-center ps-3"},ce={class:"hs-dropdown relative inline-flex [--placement:bottom-right]"},me={id:"hs-dropdown-account",type:"button",class:"focus:outline-hidden inline-flex h-10 w-10 items-center justify-center gap-x-2 rounded-full border border-transparent text-sm font-semibold text-gray-800 disabled:pointer-events-none disabled:opacity-50 dark:text-white","aria-haspopup":"menu","aria-expanded":"false","aria-label":"Dropdown"},pe={class:"inline-flex h-8 w-8 items-center justify-center rounded-full bg-red-500 font-semibold text-white"},xe={class:"hs-dropdown-menu duration mt-2 hidden min-w-60 rounded-lg bg-white opacity-0 shadow-md transition-[opacity,margin] before:absolute before:-top-4 before:start-0 before:h-4 before:w-full after:absolute after:-bottom-4 after:start-0 after:h-4 after:w-full hs-dropdown-open:opacity-100",role:"menu","aria-orientation":"vertical","aria-labelledby":"hs-dropdown-account"},be={class:"rounded-t-lg bg-gray-100 px-5 py-3"},fe={class:"text-sm font-medium text-gray-800"},ye={class:"space-y-0.5 p-1.5"},ge={__name:"Navbar",emits:["goToCheckout"],setup(y,{emit:o}){const n=B(),m=w(!1),g=Y().props.auth.user,b=o,_=()=>b("goToCheckout"),j=()=>{X().post("/logout")},p=()=>{m.value=!m.value};return(h,i)=>{const u=z("Link");return r(),d("header",oe,[e("nav",le,[e("div",re,[x(u,{class:"flex-none py-4 text-xl font-semibold text-blue-600",href:"/","aria-label":"PH"},{default:$(()=>[x(l(J),{class:"mr-2 inline-block h-8 w-8"}),i[1]||(i[1]=S(" PH "))]),_:1}),e("div",ae,[e("button",{type:"button",class:"inline-flex items-center justify-center gap-2 rounded-md border border-gray-200 p-2 text-sm text-gray-600 transition-all hover:bg-gray-100 hover:text-gray-800 focus:outline-none focus:ring-2 focus:ring-blue-600 focus:ring-offset-2",onClick:p,"aria-controls":"navbar-collapse","aria-expanded":m.value},[i[2]||(i[2]=e("span",{class:"sr-only"},"Toggle navigation",-1)),m.value?(r(),V(l(Z),{key:1,class:"h-5 w-5"})):(r(),V(l(K),{key:0,class:"h-5 w-5"}))],8,ne)])]),e("div",{id:"navbar-collapse",class:q(["grow basis-full overflow-hidden transition-all duration-300 sm:block",m.value?"block h-auto":"hidden"])},[e("div",ie,[e("div",de,[e("div",ue,[x(l(L),{class:"h-4 w-4 text-gray-400"})]),v(e("input",{"onUpdate:modelValue":i[0]||(i[0]=T=>l(n).searchQuery=T),type:"search",class:"block w-full rounded-full border border-gray-300 bg-gray-50 p-2.5 ps-10 text-sm text-gray-900 transition-all duration-300 focus:border-blue-600 focus:ring-blue-600",placeholder:"Search medications..."},null,512),[[P,l(n).searchQuery]])]),e("button",{class:"mb-6 inline-flex items-center gap-x-2 rounded-full border border-transparent bg-blue-600 px-4 py-2 text-sm font-semibold text-white transition-all duration-300 hover:bg-blue-700 disabled:pointer-events-none disabled:opacity-50 sm:mb-0",onClick:_},[x(l(A),{class:"h-4 w-4"}),S(" Checkout ("+c(l(n).cartCount)+") ",1)]),x(u,{href:"/past-orders",class:"mb-6 inline-flex items-center gap-x-2 rounded-full border border-gray-300 bg-white px-4 py-2 text-sm font-semibold text-blue-600 transition-all duration-300 hover:bg-blue-50 hover:text-blue-800 sm:mb-0"},{default:$(()=>i[3]||(i[3]=[e("svg",{class:"h-4 w-4",fill:"none",stroke:"currentColor","stroke-width":"2",viewBox:"0 0 24 24","stroke-linecap":"round","stroke-linejoin":"round"},[e("rect",{x:"3",y:"4",width:"18",height:"16",rx:"2"}),e("path",{d:"M16 2v4M8 2v4M3 10h18"})],-1),S(" Past orders ")])),_:1}),x(u,{href:"/supplier",class:"mb-6 inline-flex items-center gap-x-2 rounded-full border border-gray-300 bg-white px-4 py-2 text-sm font-semibold text-blue-600 transition-all duration-300 hover:bg-blue-50 hover:text-blue-800 sm:mb-0"},{default:$(()=>i[4]||(i[4]=[S(" Go to supplier ")])),_:1}),e("div",ce,[e("button",me,[e("span",pe,c(l(g).first_name[0])+c(l(g).last_name[0]),1)]),e("div",xe,[e("div",be,[i[5]||(i[5]=e("p",{class:"text-sm text-gray-500"}," Signed in as ",-1)),e("p",fe,c(l(g).first_name)+" +251"+c(l(g).primary_phone),1)]),e("div",ye,[i[7]||(i[7]=e("a",{class:"focus:outline-hidden flex items-center gap-x-3.5 rounded-lg px-3 py-2 text-sm text-gray-800 hover:bg-gray-100 focus:bg-gray-100"}," Edit profile ",-1)),e("form",{onSubmit:W(j,["prevent"])},i[6]||(i[6]=[e("button",{href:"#",class:"focus:outline-hidden flex w-full items-center gap-x-3.5 rounded-lg px-3 py-2 text-sm text-gray-800 hover:bg-gray-100 focus:bg-gray-100"}," Logout ",-1)]),32)])])])])],2)])])}}},he={class:"flex min-h-screen flex-col bg-gray-50"},ve={class:"relative overflow-hidden before:absolute before:start-1/2 before:top-0 before:-z-[1] before:h-full before:w-full before:-translate-x-1/2 before:transform before:bg-[url('https://preline.co/assets/svg/component/polygon-bg-element.svg')] before:bg-top before:bg-no-repeat"},we={class:"mx-auto max-w-[85rem] px-4 pb-2 pt-1 sm:px-6 lg:px-8 lg:pb-10 lg:pt-16"},_e={class:"mx-auto mt-8 max-w-2xl"},ke={class:"flex flex-col items-center gap-2 sm:flex-row sm:gap-3"},Ce={class:"w-full"},Pe={class:"hidden w-full items-center justify-center gap-x-2 rounded-full border border-transparent bg-blue-600 px-4 py-3 text-sm font-semibold text-white transition-all duration-300 hover:bg-blue-700 disabled:pointer-events-none disabled:opacity-50 sm:w-auto lg:inline-flex"},je={class:"mx-auto w-full flex-grow px-4 py-1 sm:w-auto sm:px-6 lg:px-8 lg:py-14"},Me={key:0},Se={class:"mx-auto mb-10 hidden max-w-2xl text-center lg:block"},$e={class:"text-2xl font-bold text-gray-800 md:text-3xl md:leading-tight"},Te={key:0,class:"mx-auto max-w-sm py-12 text-center"},Ve={key:1},qe={class:"grid grid-cols-1 gap-2 sm:grid-cols-2 lg:grid-cols-3 lg:gap-6 xl:grid-cols-4"},Le={class:"flex items-center justify-between gap-5 px-6 py-2 md:px-8 md:py-3"},Ne={class:"group-hover:text-primary text-xl font-semibold text-gray-800 transition-colors duration-300"},Qe={class:"mt-2 text-gray-500"},Ue=["onClick"],He={class:"mt-5 flex items-center justify-center space-x-2","aria-label":"Pagination"},Ie=["innerHTML"],Oe=["innerHTML"],De={key:1,class:"mx-auto max-w-sm py-16 text-center"},ze={class:"mx-auto mb-4 flex h-24 w-24 items-center justify-center rounded-full bg-blue-50 p-6"},Be={class:"flex flex-col items-center justify-center px-3 py-5"},Ae={class:"mt-6"},Fe=["value"],Ge={key:0,class:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50"},Ee={class:"w-full max-w-md rounded-lg bg-white p-6"},Ye={class:"mt-4 space-y-2"},We={class:"flex items-center gap-2"},Xe=["onUpdate:modelValue"],Re=["onClick"],Je={class:"flex items-center gap-2"},Ke=["onUpdate:modelValue"],Ze=["onClick"],rt=Object.assign({layout:te},{__name:"Home",props:{products:Object,filters:Object,units:Array},setup(y){var Q,U;const o=B(),n=y,m=w(((Q=n.products)==null?void 0:Q.data)||[]);I(()=>n.products,a=>{m.value=(a==null?void 0:a.data)||[]}),o.searchQuery=((U=n.filters)==null?void 0:U.search)||"";const g=ee.debounce(a=>{O.get("/",{search:a},{preserveState:!0,replace:!0,except:["units"]})},300);I(()=>o.searchQuery,a=>{g(a)});const b=w(!1),_=()=>{b.value=!b.value},j=a=>{o.addToCart(a)},p=a=>{o.deleteCustomProduct(a)},h=a=>{o.deleteProduct(a)},i=()=>{o.cartItems.customProducts.length>0||o.cartItems.products.length>0?(O.post("/checkout",{products:o.cartItems.products,customProducts:o.cartItems.customProducts.map(a=>{var s;return{...a,unit:((s=a.unit)==null?void 0:s.id)||null}})},{onSuccess:()=>{o.clearCart(),b.value=!1}}),b.value=!1):alert("Your cart is empty!")},u=w({name:"",unit:"",quantity:""}),T=()=>{u.value.name&&u.value.quantity!==""?(o.addCustomProductToCart({...u.value,id:Date.now(),unit:u.value.unit!==""?n.units.find(a=>a.id===u.value.unit):null}),u.value={name:"",unit:"",quantity:""}):alert("Please fill in all fields.")},F=()=>{o.cartCount>0?_():alert("Your cart is empty!")};return(a,s)=>{const G=z("Link");return r(),d("div",he,[x(ge,{onGoToCheckout:F}),e("div",ve,[e("div",we,[s[6]||(s[6]=e("div",{class:"mx-auto mt-5 hidden max-w-2xl text-center lg:block"},[e("h1",{class:"block text-4xl font-bold text-gray-800 md:text-5xl lg:text-6xl"}," Your Health, Our Priority ")],-1)),s[7]||(s[7]=e("div",{class:"mx-auto mt-5 hidden max-w-3xl text-center lg:block"},[e("p",{class:"text-lg text-gray-600"}," Find all your pharmaceutical needs in one place. ")],-1)),e("div",_e,[e("div",ke,[e("div",Ce,[s[4]||(s[4]=e("label",{for:"hero-search",class:"sr-only"},"Search",-1)),v(e("input",{"onUpdate:modelValue":s[0]||(s[0]=t=>l(o).searchQuery=t),type:"text",id:"hero-search",class:"block w-full rounded-full border-gray-200 px-4 py-3 text-sm shadow-sm transition-all duration-300 focus:border-blue-600 focus:ring-blue-600 disabled:pointer-events-none disabled:opacity-50",placeholder:"Search for medications..."},null,512),[[P,l(o).searchQuery]])]),e("button",Pe,[x(l(L),{class:"h-4 w-4"}),s[5]||(s[5]=S(" Search "))])])])])]),e("div",je,[l(o).searchQuery.trim()?(r(),d("div",Me,[e("div",Se,[e("h2",$e,' Search Results for "'+c(l(o).searchQuery)+'" ',1)]),m.value.length===0?(r(),d("div",Te,[x(l(se),{class:"mx-auto mb-4 h-16 w-16 text-gray-400"}),s[8]||(s[8]=e("h3",{class:"text-xl font-medium text-gray-800"}," No products found ",-1))])):(r(),d("div",Ve,[e("div",qe,[(r(!0),d(C,null,M(m.value,t=>{var f;return r(),d("div",{key:t.id,class:"group flex h-full w-full flex-col rounded-xl border border-gray-200 bg-white shadow-sm transition duration-300 hover:shadow-md"},[e("div",Le,[e("div",null,[e("h3",Ne,c(t.product_name),1),e("p",Qe,c(((f=t.unit)==null?void 0:f.unit_name)??"None"),1)]),e("button",{onClick:k=>j({...t,quantity:""}),class:"hover:bg-primary-dark inline-flex items-center justify-center rounded-lg border border-transparent bg-blue-700 p-3 text-white transition-all duration-300 disabled:pointer-events-none disabled:opacity-50"},[x(l(A),{class:"h-5 w-5"})],8,Ue)])])}),128))]),e("nav",He,[y.products.links&&y.products.links.length?(r(!0),d(C,{key:0},M(y.products.links,(t,f)=>(r(),d(C,{key:f},[t.url?(r(),V(G,{key:0,href:t.url,"preserve-state":"","preserve-scroll":"",class:q(["flex items-center justify-center rounded-md px-4 py-2 text-sm font-medium transition-all",t.active?"bg-blue-600 text-white shadow-md":"bg-gray-100 text-gray-800 hover:bg-blue-100 hover:text-blue-600"])},{default:$(()=>[e("span",{innerHTML:t.label},null,8,Ie)]),_:2},1032,["href","class"])):(r(),d("span",{key:1,innerHTML:t.label,class:q(["flex items-center justify-center rounded-md bg-gray-200 px-4 py-2 text-sm font-medium text-gray-500"])},null,8,Oe))],64))),128)):D("",!0)])]))])):(r(),d("div",De,[e("div",ze,[x(l(L),{class:"text-primary h-12 w-12"})]),s[9]||(s[9]=e("h2",{class:"text-2xl font-medium text-gray-800"}," Find your health products ",-1)),s[10]||(s[10]=e("p",{class:"mt-2 text-gray-500"}," Search for medications to see results ",-1))]))]),e("div",Be,[s[12]||(s[12]=e("p",{class:"mt-2 text-gray-500"},"Custom order it instead",-1)),e("div",Ae,[v(e("input",{"onUpdate:modelValue":s[1]||(s[1]=t=>u.value.name=t),type:"text",placeholder:"Product Name",class:"mb-2 w-full rounded-md border-gray-300 p-2 text-sm"},null,512),[[P,u.value.name]]),v(e("select",{"onUpdate:modelValue":s[2]||(s[2]=t=>u.value.unit=t),class:"mb-2 w-full rounded-md border-gray-300 p-2 text-sm"},[s[11]||(s[11]=e("option",{value:"",disabled:""},"Select Unit",-1)),(r(!0),d(C,null,M(y.units,t=>(r(),d("option",{key:t.id,value:t.id},c(t.unit_name),9,Fe))),128))],512),[[R,u.value.unit]]),v(e("input",{"onUpdate:modelValue":s[3]||(s[3]=t=>u.value.quantity=t),type:"text",placeholder:"Quantity",class:"mb-2 w-full rounded-md border-gray-300 p-2 text-sm"},null,512),[[P,u.value.quantity]]),e("button",{class:"w-full rounded-md bg-blue-600 px-4 py-2 text-sm text-white",onClick:T}," Add to Cart ")])]),b.value?(r(),d("div",Ge,[e("div",Ee,[s[13]||(s[13]=e("h2",{class:"text-lg font-bold text-gray-800"},"Checkout",-1)),e("ul",Ye,[(r(!0),d(C,null,M(l(o).cartItems.products,(t,f)=>{var k;return r(),d("li",{key:f,class:"flex justify-between border-b pb-2"},[e("div",null,[e("span",null,c(t.product_name)+" ("+c(((k=t.unit)==null?void 0:k.unit_name)||"No unit")+")",1)]),e("div",We,[v(e("input",{type:"text",class:"w-16 rounded-md border-gray-300 px-2 py-1 text-sm text-gray-800","onUpdate:modelValue":H=>t.quantity=H},null,8,Xe),[[P,t.quantity]]),e("button",{class:"rounded-md bg-red-500 px-2 py-1 text-sm text-white",onClick:H=>h(t.id)}," Delete ",8,Re)])])}),128)),(r(!0),d(C,null,M(l(o).cartItems.customProducts,t=>{var f;return r(),d("li",{key:t.id,class:"flex justify-between border-b pb-2"},[e("div",null,[e("span",null,c(t.name)+" ("+c(((f=t.unit)==null?void 0:f.unit_name)||"No unit")+")",1)]),e("div",Je,[v(e("input",{type:"text",class:"w-16 rounded-md border-gray-300 px-2 py-1 text-sm text-gray-800","onUpdate:modelValue":k=>t.quantity=k},null,8,Ke),[[P,t.quantity]]),e("button",{class:"rounded-md bg-red-500 px-2 py-1 text-sm text-white",onClick:k=>p(t.id)}," Delete ",8,Ze)])])}),128))]),e("div",{class:"mt-6 flex justify-end gap-2"},[e("button",{class:"rounded-md bg-gray-200 px-4 py-2 text-sm text-gray-800",onClick:_}," Close "),e("button",{class:"rounded-md bg-blue-600 px-4 py-2 text-sm text-white",onClick:i}," Place Order ")])])])):D("",!0)])}}});export{rt as default};
