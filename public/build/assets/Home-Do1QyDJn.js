import{A as H,r as g,x as W,w as B,W as D,a as J,c as r,o as a,d as e,e as z,b as h,f as q,u as c,k as U,n as L,g as v,v as _,t as m,m as ee,F as C,h as P,p as te,l as se,C as oe}from"./app-DgRG0tkH.js";import{l as le}from"./lodash-C4UIr6_z.js";import ae from"./MainLayout-CIPh4s9i.js";/**
 * @license lucide-vue-next v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),ne=n=>n.replace(/^([A-Z])|[\s-_]+(\w)/g,(o,d,u)=>u?u.toUpperCase():d.toLowerCase()),re=n=>{const o=ne(n);return o.charAt(0).toUpperCase()+o.slice(1)},ie=(...n)=>n.filter((o,d,u)=>!!o&&o.trim()!==""&&u.indexOf(o)===d).join(" ").trim();/**
 * @license lucide-vue-next v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var S={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":2,"stroke-linecap":"round","stroke-linejoin":"round"};/**
 * @license lucide-vue-next v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const de=({size:n,strokeWidth:o=2,absoluteStrokeWidth:d,color:u,iconNode:w,name:f,class:b,...V},{slots:M})=>H("svg",{...S,width:n||S.width,height:n||S.height,stroke:u||S.stroke,"stroke-width":d?Number(o)*24/Number(n):o,class:ie("lucide",...f?[`lucide-${F(re(f))}-icon`,`lucide-${F(f)}`]:["lucide-icon"]),...V},[...w.map(y=>H(...y)),...M.default?[M.default()]:[]]);/**
 * @license lucide-vue-next v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j=(n,o)=>(d,{slots:u})=>H(de,{...d,iconNode:o,name:n},u);/**
 * @license lucide-vue-next v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ue=j("menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-vue-next v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ce=j("package-x",[["path",{d:"M21 10V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l2-1.14",key:"e7tb2h"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["line",{x1:"12",x2:"12",y1:"22",y2:"12",key:"a4e8g8"}],["path",{d:"m17 13 5 5m-5 0 5-5",key:"im3w4b"}]]);/**
 * @license lucide-vue-next v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const me=j("pill",[["path",{d:"m10.5 20.5 10-10a4.95 4.95 0 1 0-7-7l-10 10a4.95 4.95 0 1 0 7 7Z",key:"wa1lgi"}],["path",{d:"m8.5 8.5 7 7",key:"rvfmvr"}]]);/**
 * @license lucide-vue-next v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T=j("search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-vue-next v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E=j("shopping-cart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);/**
 * @license lucide-vue-next v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pe=j("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),xe={class:"flex min-h-screen flex-col bg-gray-50"},be={class:"sticky top-0 z-50 flex w-full flex-wrap border-b border-gray-200 bg-white text-sm sm:flex-nowrap sm:justify-start"},fe={class:"relative mx-auto w-full max-w-[85rem] px-4 sm:flex sm:items-center sm:justify-between sm:px-6 lg:px-8","aria-label":"Global"},ye={class:"mr-5 flex items-center justify-between"},ge={class:"flex-none py-4 text-xl font-semibold text-blue-600",href:"#","aria-label":"PH"},he={class:"sm:hidden"},ve=["aria-expanded"],we={class:"mt-5 flex flex-col gap-5 sm:mt-0 sm:flex-row sm:items-center sm:justify-end sm:pl-5"},ke={class:"relative max-w-xl flex-1"},_e={class:"pointer-events-none absolute inset-y-0 start-0 flex items-center ps-3"},Ce={class:"hs-dropdown relative inline-flex [--placement:bottom-right]"},je={id:"hs-dropdown-account",type:"button",class:"focus:outline-hidden inline-flex h-10 w-10 items-center justify-center gap-x-2 rounded-full border border-transparent text-sm font-semibold text-gray-800 disabled:pointer-events-none disabled:opacity-50 dark:text-white","aria-haspopup":"menu","aria-expanded":"false","aria-label":"Dropdown"},Pe={class:"inline-flex h-8 w-8 items-center justify-center rounded-full bg-red-500 font-semibold text-white"},Me={class:"hs-dropdown-menu duration mt-2 hidden min-w-60 rounded-lg bg-white opacity-0 shadow-md transition-[opacity,margin] before:absolute before:-top-4 before:start-0 before:h-4 before:w-full after:absolute after:-bottom-4 after:start-0 after:h-4 after:w-full hs-dropdown-open:opacity-100",role:"menu","aria-orientation":"vertical","aria-labelledby":"hs-dropdown-account"},Se={class:"rounded-t-lg bg-gray-100 px-5 py-3"},Ve={class:"text-sm font-medium text-gray-800"},qe={class:"space-y-0.5 p-1.5"},Ue={class:"relative overflow-hidden before:absolute before:start-1/2 before:top-0 before:-z-[1] before:h-full before:w-full before:-translate-x-1/2 before:transform before:bg-[url('https://preline.co/assets/svg/component/polygon-bg-element.svg')] before:bg-top before:bg-no-repeat"},Le={class:"mx-auto max-w-[85rem] px-4 pb-2 pt-1 sm:px-6 lg:px-8 lg:pb-10 lg:pt-16"},Te={class:"mx-auto mt-8 max-w-2xl"},He={class:"flex flex-col items-center gap-2 sm:flex-row sm:gap-3"},Ne={class:"w-full"},Oe={class:"hidden w-full items-center justify-center gap-x-2 rounded-full border border-transparent bg-blue-600 px-4 py-3 text-sm font-semibold text-white transition-all duration-300 hover:bg-blue-700 disabled:pointer-events-none disabled:opacity-50 sm:w-auto lg:inline-flex"},Ae={class:"mx-auto w-full flex-grow px-4 py-1 sm:w-auto sm:px-6 lg:px-8 lg:py-14"},$e={key:0},Be={class:"mx-auto mb-10 hidden max-w-2xl text-center lg:block"},De={class:"text-2xl font-bold text-gray-800 md:text-3xl md:leading-tight"},ze={key:0,class:"mx-auto max-w-sm py-12 text-center"},Fe={key:1},Ee={class:"grid grid-cols-1 gap-2 sm:grid-cols-2 lg:grid-cols-3 lg:gap-6 xl:grid-cols-4"},Ie={class:"flex items-center justify-between gap-5 px-6 py-2 md:px-8 md:py-3"},Ye={class:"group-hover:text-primary text-xl font-semibold text-gray-800 transition-colors duration-300"},Ze={class:"mt-2 text-gray-500"},Qe=["onClick"],Xe={class:"mt-5 flex items-center justify-center space-x-2","aria-label":"Pagination"},Ge=["innerHTML"],Ke=["innerHTML"],Re={key:1,class:"mx-auto max-w-sm py-16 text-center"},We={class:"mx-auto mb-4 flex h-24 w-24 items-center justify-center rounded-full bg-blue-50 p-6"},Je={class:"flex flex-col items-center justify-center px-3 py-5"},et={class:"mt-6"},tt=["value"],st={key:0,class:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50"},ot={class:"w-full max-w-md rounded-lg bg-white p-6"},lt={class:"mt-4 space-y-2"},at={class:"flex items-center gap-2"},nt=["onUpdate:modelValue"],rt=["onClick"],it={class:"flex items-center gap-2"},dt=["onUpdate:modelValue"],ut=["onClick"],xt=Object.assign({layout:ae},{__name:"Home",props:{products:Object,filters:Object,units:Array},setup(n){var O,A;const o=g(0),d=g(!1),u=W().props.auth.user,w=n,f=g(((O=w.products)==null?void 0:O.data)||[]);B(()=>w.products,l=>{f.value=(l==null?void 0:l.data)||[]});const b=g(((A=w.filters)==null?void 0:A.search)||""),V=le.debounce(l=>{D.get("/",{search:l},{preserveState:!0,replace:!0,except:["units"]})},300);B(b,l=>{V(l)});const M=()=>{d.value=!d.value},y=g(!1),i=g({products:[],customProducts:[]}),N=()=>{y.value=!y.value},I=l=>{o.value++,i.value.products.push(l)},Y=l=>{i.value.customProducts=i.value.customProducts.filter(t=>t.id!==l),o.value=Math.max(0,o.value-1)},Z=l=>{i.value.products=i.value.products.filter(t=>t.id!==l),o.value=Math.max(0,o.value-1)},Q=()=>{console.log(i.value),i.value.customProducts.length>0||i.value.products.length>0?(D.post("/checkout",{products:i.value.products,customProducts:i.value.customProducts.map(l=>{var t;return{...l,unit:((t=l.unit)==null?void 0:t.id)||null}})},{onSuccess:()=>{i.value.products=[],i.value.customProducts=[],y.value=!1,o.value=0}}),y.value=!1):alert("Your cart is empty!")},p=g({name:"",unit:"",quantity:1}),X=()=>{p.value.name&&p.value.quantity>0?(o.value++,i.value.customProducts.push({...p.value,id:Date.now(),unit:p.value.unit!==""?w.units.find(l=>l.id===p.value.unit):null}),p.value={name:"",unit:"",quantity:1}):alert("Please fill in all fields.")},G=()=>{o.value>0?N():alert("Your cart is empty!")},K=()=>{oe().post("/logout")};return(l,t)=>{const R=J("Link");return a(),r("div",xe,[e("header",be,[e("nav",fe,[e("div",ye,[e("a",ge,[h(c(me),{class:"mr-2 inline-block h-8 w-8"}),t[5]||(t[5]=q(" PH "))]),e("div",he,[e("button",{type:"button",class:"inline-flex items-center justify-center gap-2 rounded-md border border-gray-200 p-2 text-sm text-gray-600 transition-all hover:bg-gray-100 hover:text-gray-800 focus:outline-none focus:ring-2 focus:ring-blue-600 focus:ring-offset-2",onClick:M,"aria-controls":"navbar-collapse","aria-expanded":d.value},[t[6]||(t[6]=e("span",{class:"sr-only"},"Toggle navigation",-1)),d.value?(a(),U(c(pe),{key:1,class:"h-5 w-5"})):(a(),U(c(ue),{key:0,class:"h-5 w-5"}))],8,ve)])]),e("div",{id:"navbar-collapse",class:L(["grow basis-full overflow-hidden transition-all duration-300 sm:block",d.value?"block h-auto":"hidden"])},[e("div",we,[e("div",ke,[e("div",_e,[h(c(T),{class:"h-4 w-4 text-gray-400"})]),v(e("input",{"onUpdate:modelValue":t[0]||(t[0]=s=>b.value=s),type:"search",class:"block w-full rounded-full border border-gray-300 bg-gray-50 p-2.5 ps-10 text-sm text-gray-900 transition-all duration-300 focus:border-blue-600 focus:ring-blue-600",placeholder:"Search medications..."},null,512),[[_,b.value]])]),e("button",{class:"mb-6 inline-flex items-center gap-x-2 rounded-full border border-transparent bg-blue-600 px-4 py-2 text-sm font-semibold text-white transition-all duration-300 hover:bg-blue-700 disabled:pointer-events-none disabled:opacity-50 sm:mb-0",onClick:G},[h(c(E),{class:"h-4 w-4"}),q(" Checkout ("+m(o.value)+") ",1)]),e("div",Ce,[e("button",je,[e("span",Pe,m(c(u).first_name[0])+m(c(u).last_name[0]),1)]),e("div",Me,[e("div",Se,[t[7]||(t[7]=e("p",{class:"text-sm text-gray-500"}," Signed in as ",-1)),e("p",Ve,m(c(u).first_name)+" +251"+m(c(u).primary_phone),1)]),e("div",qe,[t[9]||(t[9]=e("a",{class:"focus:outline-hidden flex items-center gap-x-3.5 rounded-lg px-3 py-2 text-sm text-gray-800 hover:bg-gray-100 focus:bg-gray-100"}," Edit profile ",-1)),e("form",{onSubmit:ee(K,["prevent"])},t[8]||(t[8]=[e("button",{href:"#",class:"focus:outline-hidden</form> flex w-full items-center gap-x-3.5 rounded-lg px-3 py-2 text-sm text-gray-800 hover:bg-gray-100 focus:bg-gray-100"}," Logout ",-1)]),32)])])])])],2)])]),e("div",Ue,[e("div",Le,[t[12]||(t[12]=e("div",{class:"mx-auto mt-5 hidden max-w-2xl text-center lg:block"},[e("h1",{class:"block text-4xl font-bold text-gray-800 md:text-5xl lg:text-6xl"}," Your Health, Our Priority ")],-1)),t[13]||(t[13]=e("div",{class:"mx-auto mt-5 hidden max-w-3xl text-center lg:block"},[e("p",{class:"text-lg text-gray-600"}," Find all your pharmaceutical needs in one place. ")],-1)),e("div",Te,[e("div",He,[e("div",Ne,[t[10]||(t[10]=e("label",{for:"hero-search",class:"sr-only"},"Search",-1)),v(e("input",{"onUpdate:modelValue":t[1]||(t[1]=s=>b.value=s),type:"text",id:"hero-search",class:"block w-full rounded-full border-gray-200 px-4 py-3 text-sm shadow-sm transition-all duration-300 focus:border-blue-600 focus:ring-blue-600 disabled:pointer-events-none disabled:opacity-50",placeholder:"Search for medications..."},null,512),[[_,b.value]])]),e("button",Oe,[h(c(T),{class:"h-4 w-4"}),t[11]||(t[11]=q(" Search "))])])])])]),e("div",Ae,[b.value.trim()?(a(),r("div",$e,[e("div",Be,[e("h2",De,' Search Results for "'+m(b.value)+'" ',1)]),f.value.length===0?(a(),r("div",ze,[h(c(ce),{class:"mx-auto mb-4 h-16 w-16 text-gray-400"}),t[14]||(t[14]=e("h3",{class:"text-xl font-medium text-gray-800"}," No products found ",-1))])):(a(),r("div",Fe,[e("div",Ee,[(a(!0),r(C,null,P(f.value,s=>{var x;return a(),r("div",{key:s.id,class:"group flex h-full w-full flex-col rounded-xl border border-gray-200 bg-white shadow-sm transition duration-300 hover:shadow-md"},[e("div",Ie,[e("div",null,[e("h3",Ye,m(s.product_name),1),e("p",Ze,m(((x=s.unit)==null?void 0:x.unit_name)??"None"),1)]),e("button",{onClick:k=>I({...s,quantity:1}),class:"hover:bg-primary-dark inline-flex items-center justify-center rounded-lg border border-transparent bg-blue-700 p-3 text-white transition-all duration-300 disabled:pointer-events-none disabled:opacity-50"},[h(c(E),{class:"h-5 w-5"})],8,Qe)])])}),128))]),e("nav",Xe,[n.products.links&&n.products.links.length?(a(!0),r(C,{key:0},P(n.products.links,(s,x)=>(a(),r(C,{key:x},[s.url?(a(),U(R,{key:0,href:s.url,"preserve-state":"","preserve-scroll":"",class:L(["flex items-center justify-center rounded-md px-4 py-2 text-sm font-medium transition-all",s.active?"bg-blue-600 text-white shadow-md":"bg-gray-100 text-gray-800 hover:bg-blue-100 hover:text-blue-600"])},{default:se(()=>[e("span",{innerHTML:s.label},null,8,Ge)]),_:2},1032,["href","class"])):(a(),r("span",{key:1,innerHTML:s.label,class:L(["flex items-center justify-center rounded-md bg-gray-200 px-4 py-2 text-sm font-medium text-gray-500"])},null,8,Ke))],64))),128)):z("",!0)])]))])):(a(),r("div",Re,[e("div",We,[h(c(T),{class:"text-primary h-12 w-12"})]),t[15]||(t[15]=e("h2",{class:"text-2xl font-medium text-gray-800"}," Find your health products ",-1)),t[16]||(t[16]=e("p",{class:"mt-2 text-gray-500"}," Search for medications to see results ",-1))]))]),e("div",Je,[t[18]||(t[18]=e("p",{class:"mt-2 text-gray-500"},"Custom order it instead",-1)),e("div",et,[v(e("input",{"onUpdate:modelValue":t[2]||(t[2]=s=>p.value.name=s),type:"text",placeholder:"Product Name",class:"mb-2 w-full rounded-md border-gray-300 p-2 text-sm"},null,512),[[_,p.value.name]]),v(e("select",{"onUpdate:modelValue":t[3]||(t[3]=s=>p.value.unit=s),class:"mb-2 w-full rounded-md border-gray-300 p-2 text-sm"},[t[17]||(t[17]=e("option",{value:"",disabled:""},"Select Unit",-1)),(a(!0),r(C,null,P(n.units,s=>(a(),r("option",{key:s.id,value:s.id},m(s.unit_name),9,tt))),128))],512),[[te,p.value.unit]]),v(e("input",{"onUpdate:modelValue":t[4]||(t[4]=s=>p.value.quantity=s),type:"number",min:"1",placeholder:"Quantity",class:"mb-2 w-full rounded-md border-gray-300 p-2 text-sm"},null,512),[[_,p.value.quantity]]),e("button",{class:"w-full rounded-md bg-blue-600 px-4 py-2 text-sm text-white",onClick:X}," Add to Cart ")])]),y.value?(a(),r("div",st,[e("div",ot,[t[19]||(t[19]=e("h2",{class:"text-lg font-bold text-gray-800"},"Checkout",-1)),e("ul",lt,[(a(!0),r(C,null,P(i.value.products,(s,x)=>{var k;return a(),r("li",{key:x,class:"flex justify-between border-b pb-2"},[e("div",null,[e("span",null,m(s.product_name)+" ("+m(((k=s.unit)==null?void 0:k.unit_name)||"No unit")+")",1)]),e("div",at,[v(e("input",{type:"number",class:"w-16 rounded-md border-gray-300 px-2 py-1 text-sm text-gray-800","onUpdate:modelValue":$=>s.quantity=$,min:1},null,8,nt),[[_,s.quantity,void 0,{number:!0}]]),e("button",{class:"rounded-md bg-red-500 px-2 py-1 text-sm text-white",onClick:$=>Z(s.id)}," Delete ",8,rt)])])}),128)),(a(!0),r(C,null,P(i.value.customProducts,s=>{var x;return a(),r("li",{key:s.id,class:"flex justify-between border-b pb-2"},[e("div",null,[e("span",null,m(s.name)+" ("+m(((x=s.unit)==null?void 0:x.unit_name)||"No unit")+")",1)]),e("div",it,[v(e("input",{type:"number",class:"w-16 rounded-md border-gray-300 px-2 py-1 text-sm text-gray-800","onUpdate:modelValue":k=>s.quantity=k,min:1},null,8,dt),[[_,s.quantity,void 0,{number:!0}]]),e("button",{class:"rounded-md bg-red-500 px-2 py-1 text-sm text-white",onClick:k=>Y(s.id)}," Delete ",8,ut)])])}),128))]),e("div",{class:"mt-6 flex justify-end gap-2"},[e("button",{class:"rounded-md bg-gray-200 px-4 py-2 text-sm text-gray-800",onClick:N}," Close "),e("button",{class:"rounded-md bg-blue-600 px-4 py-2 text-sm text-white",onClick:Q}," Place Order ")])])])):z("",!0)])}}});export{xt as default};
