import{r as _,w as y,W as u,p as L,a as h,c as r,o,b as S,d as e,g as H,v as M,e as x,F as i,h as g,t as a,k as P,l as T,n as v}from"./app-BRyHcflp.js";import{l as B}from"./lodash-C5DfuX5t.js";import N from"./MainLayout-CrGnwOGT.js";const V={class:"flex min-h-screen flex-col"},U={class:"flex-1"},W={class:"mx-auto w-full max-w-6xl px-4 py-6"},$={class:"mb-6"},A={class:"mt-6 overflow-hidden rounded-xl border bg-white shadow-sm"},D={class:"overflow-x-auto"},E={class:"min-w-full divide-y divide-gray-200"},F={class:"divide-y divide-gray-200"},O={key:0},z={class:"whitespace-nowrap px-6 py-4"},I={class:"text-sm font-medium text-gray-900"},Q={class:"text-sm text-gray-500"},R={class:"whitespace-nowrap px-6 py-4"},q={class:"text-sm text-gray-900"},G={class:"text-sm text-gray-500"},J={class:"whitespace-nowrap px-6 py-4"},K={class:"text-sm text-gray-900"},X={key:0,class:"text-sm text-gray-500"},Y={class:"whitespace-nowrap px-6 py-4 text-end"},Z={class:"flex justify-end gap-2"},ee=["onClick"],te=["onClick"],se={class:"mt-5 flex items-center -space-x-px","aria-label":"Pagination"},oe=["innerHTML"],ne=["innerHTML"],le=Object.assign({layout:N},{__name:"PendingConsumers",props:{consumers:{type:Object}},setup(b){const d=b,p=_(d.consumers.data);y(()=>d.consumers,s=>{p.value=s.data});const m=_(""),f=B.debounce(s=>{u.get("/pending-consumers",{search:s},{preserveState:!0,replace:!0})},300);y(m,s=>{f(s)});const l=L(()=>d.consumers.links),w=s=>{u.post("/pending-consumers",{id:s,action:"approve"},{preserveScroll:!0,preserveState:!0})},k=s=>{u.post("/pending-consumers",{id:s,action:"reject"},{preserveScroll:!0,preserveState:!0})};return(s,n)=>{const C=h("Head"),j=h("Link");return o(),r(i,null,[S(C,{title:"Pending consumers"}),e("div",V,[e("main",U,[e("div",W,[n[3]||(n[3]=e("div",{class:"mb-6 flex items-center justify-between"},[e("h1",{class:"text-2xl font-bold text-gray-800"}," Pending Consumers ")],-1)),e("div",$,[H(e("input",{type:"text","onUpdate:modelValue":n[0]||(n[0]=t=>m.value=t),class:"block w-full rounded-lg border-gray-200 px-4 py-3 text-sm focus:border-blue-500 focus:ring-blue-500",placeholder:"Search pending consumers..."},null,512),[[M,m.value]])]),e("div",A,[e("div",D,[e("table",E,[n[2]||(n[2]=e("thead",{class:"bg-gray-50"},[e("tr",null,[e("th",{scope:"col",class:"px-6 py-3 text-start text-xs font-medium uppercase text-gray-500"}," Institution "),e("th",{scope:"col",class:"px-6 py-3 text-start text-xs font-medium uppercase text-gray-500"}," Location "),e("th",{scope:"col",class:"px-6 py-3 text-start text-xs font-medium uppercase text-gray-500"}," Phone "),e("th",{scope:"col",class:"px-6 py-3 text-end text-xs font-medium uppercase text-gray-500"}," Actions ")])],-1)),e("tbody",F,[p.value.length===0?(o(),r("tr",O,n[1]||(n[1]=[e("td",{colspan:"4",class:"px-6 py-8 text-center text-gray-500"}," No pending consumers found ",-1)]))):x("",!0),(o(!0),r(i,null,g(p.value,t=>(o(),r("tr",{key:t.id,class:"hover:bg-gray-100"},[e("td",z,[e("div",I,a(t.institution_name),1),e("div",Q,a(t.first_name)+" "+a(t.last_name),1)]),e("td",R,[e("div",q,a(t.subcity.subcity_name),1),e("div",G," Woreda "+a(t.woreda)+" "+a(t.special_place),1)]),e("td",J,[e("div",K," +251"+a(t.primary_phone),1),t.secondary_phone?(o(),r("div",X," +251"+a(t.secondary_phone),1)):x("",!0)]),e("td",Y,[e("div",Z,[e("button",{onClick:c=>w(t.id),class:"inline-flex items-center gap-x-1 rounded-lg border border-transparent bg-green-500 px-3 py-1 text-sm font-medium text-white hover:bg-green-600"}," Approve ",8,ee),e("button",{onClick:c=>k(t.id),class:"inline-flex items-center gap-x-1 rounded-lg border border-transparent bg-red-500 px-3 py-1 text-sm font-medium text-white hover:bg-red-600"}," Reject ",8,te)])])]))),128))])])])]),e("nav",se,[l.value&&l.value.length?(o(!0),r(i,{key:0},g(l.value,(t,c)=>(o(),r(i,{key:c},[t.url?(o(),P(j,{key:0,href:t.url,"preserve-state":"","preserve-scroll":"",class:v([c===0?"rounded-l-md":"",c===l.value.length-1?"rounded-r-md":"","min-h-9.5 min-w-9.5 flex items-center justify-center px-3 py-2 text-sm",t.active?"bg-gray-600 text-white":"border border-gray-200 text-gray-800 hover:bg-gray-100"])},{default:T(()=>[e("span",{innerHTML:t.label},null,8,oe)]),_:2},1032,["href","class"])):(o(),r("span",{key:1,innerHTML:t.label,class:v([c===0?"rounded-l-md":"",c===l.value.length-1?"rounded-r-md":"","min-h-9.5 min-w-9.5 flex items-center justify-center border border-gray-200 px-3 py-2 text-gray-800"])},null,10,ne))],64))),128)):x("",!0)])])])])],64)}}});export{le as default};
