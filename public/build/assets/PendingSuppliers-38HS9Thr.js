import{r as _,w as y,W as x,q as L,a as h,c as a,o,b as C,d as e,g as H,v as M,e as m,F as c,h as g,t as n,k as P,l as T,n as v}from"./app-a7fOQFkW.js";import{l as B}from"./lodash-CSagglj3.js";import N from"./MainLayout-CLLC7-Kq.js";const V={class:"flex min-h-screen flex-col"},U={class:"flex-1"},W={class:"mx-auto w-full max-w-6xl px-4 py-6"},$={class:"mb-6"},A={class:"mt-6 overflow-hidden rounded-xl border bg-white shadow-sm"},D={class:"overflow-x-auto"},E={class:"min-w-full divide-y divide-gray-200"},F={class:"divide-y divide-gray-200"},O={key:0},q={class:"whitespace-nowrap px-6 py-4"},z={class:"text-sm font-medium text-gray-900"},I={class:"text-sm text-gray-500"},Q={class:"whitespace-nowrap px-6 py-4"},R={class:"text-sm text-gray-900"},G={class:"text-sm text-gray-500"},J={class:"whitespace-nowrap px-6 py-4"},K={class:"text-sm text-gray-900"},X={key:0,class:"text-sm text-gray-500"},Y={class:"whitespace-nowrap px-6 py-4 text-end"},Z={class:"flex justify-end gap-2"},ee=["onClick"],te=["onClick"],se={class:"mt-5 flex items-center -space-x-px","aria-label":"Pagination"},oe=["innerHTML"],re=["innerHTML"],ie=Object.assign({layout:N},{__name:"PendingSuppliers",props:{suppliers:{type:Object}},setup(b){const d=b,p=_(d.suppliers.data);y(()=>d.suppliers,s=>{p.value=s.data});const u=_(""),f=B.debounce(s=>{x.get("/admin/pending-suppliers",{search:s},{preserveState:!0,replace:!0})},300);y(u,s=>{f(s)});const i=L(()=>d.suppliers.links),w=s=>{x.post("/admin/pending-suppliers",{id:s,action:"approve"},{preserveScroll:!0,preserveState:!0})},k=s=>{x.post("/admin/pending-suppliers",{id:s,action:"reject"},{preserveScroll:!0,preserveState:!0})};return(s,r)=>{const S=h("Head"),j=h("Link");return o(),a(c,null,[C(S,{title:"Pending suppliers"}),e("div",V,[e("main",U,[e("div",W,[r[3]||(r[3]=e("div",{class:"mb-6 flex items-center justify-between"},[e("h1",{class:"text-2xl font-bold text-gray-800"}," Pending Suppliers ")],-1)),e("div",$,[H(e("input",{type:"text","onUpdate:modelValue":r[0]||(r[0]=t=>u.value=t),class:"block w-full rounded-lg border-gray-200 px-4 py-3 text-sm focus:border-blue-500 focus:ring-blue-500",placeholder:"Search pending suppliers..."},null,512),[[M,u.value]])]),e("div",A,[e("div",D,[e("table",E,[r[2]||(r[2]=e("thead",{class:"bg-gray-50"},[e("tr",null,[e("th",{scope:"col",class:"px-6 py-3 text-start text-xs font-medium uppercase text-gray-500"}," Institution "),e("th",{scope:"col",class:"px-6 py-3 text-start text-xs font-medium uppercase text-gray-500"}," Location "),e("th",{scope:"col",class:"px-6 py-3 text-start text-xs font-medium uppercase text-gray-500"}," Phone "),e("th",{scope:"col",class:"px-6 py-3 text-end text-xs font-medium uppercase text-gray-500"}," Actions ")])],-1)),e("tbody",F,[p.value.length===0?(o(),a("tr",O,r[1]||(r[1]=[e("td",{colspan:"4",class:"px-6 py-8 text-center text-gray-500"}," No pending consumers found ",-1)]))):m("",!0),(o(!0),a(c,null,g(p.value,t=>(o(),a("tr",{key:t.id,class:"hover:bg-gray-100"},[e("td",q,[e("div",z,n(t.institution_name),1),e("div",I,n(t.first_name)+" "+n(t.last_name),1)]),e("td",Q,[e("div",R,n(t.subcity.subcity_name),1),e("div",G," Woreda "+n(t.woreda)+" "+n(t.special_place),1)]),e("td",J,[e("div",K," +251"+n(t.primary_phone),1),t.secondary_phone?(o(),a("div",X," +251"+n(t.secondary_phone),1)):m("",!0)]),e("td",Y,[e("div",Z,[e("button",{onClick:l=>w(t.id),class:"inline-flex items-center gap-x-1 rounded-lg border border-transparent bg-green-500 px-3 py-1 text-sm font-medium text-white hover:bg-green-600"}," Approve ",8,ee),e("button",{onClick:l=>k(t.id),class:"inline-flex items-center gap-x-1 rounded-lg border border-transparent bg-red-500 px-3 py-1 text-sm font-medium text-white hover:bg-red-600"}," Reject ",8,te)])])]))),128))])])])]),e("nav",se,[i.value&&i.value.length?(o(!0),a(c,{key:0},g(i.value,(t,l)=>(o(),a(c,{key:l},[t.url?(o(),P(j,{key:0,href:t.url,"preserve-state":"","preserve-scroll":"",class:v([l===0?"rounded-l-md":"",l===i.value.length-1?"rounded-r-md":"","min-h-9.5 min-w-9.5 flex items-center justify-center px-3 py-2 text-sm",t.active?"bg-gray-600 text-white":"border border-gray-200 text-gray-800 hover:bg-gray-100"])},{default:T(()=>[e("span",{innerHTML:t.label},null,8,oe)]),_:2},1032,["href","class"])):(o(),a("span",{key:1,innerHTML:t.label,class:v([l===0?"rounded-l-md":"",l===i.value.length-1?"rounded-r-md":"","min-h-9.5 min-w-9.5 flex items-center justify-center border border-gray-200 px-3 py-2 text-gray-800"])},null,10,re))],64))),128)):m("",!0)])])])])],64)}}});export{ie as default};
