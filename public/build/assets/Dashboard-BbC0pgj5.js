import{r as y,q as O,a as b,c as l,o as a,b as P,d as e,F as c,h,e as x,t as n,n as p,f as j,g as A,s as B,k as H,l as N}from"./app-Ds4Ek5o6.js";import T from"./MainLayout-I_GZQYzk.js";const $={class:"flex min-h-screen flex-col"},D={class:"bg-white-50 flex-1"},M={class:"mx-auto w-full px-2 py-6 sm:px-4"},V={class:"flex flex-col items-center justify-center gap-6 2xl:flex-row"},q={class:"w-full max-w-7xl px-4 py-6"},E={class:"mb-4 border-b border-gray-200"},F={class:"flex space-x-2","aria-label":"Tabs"},z=["onClick"],Q={class:"rounded-xl border bg-white shadow-sm"},U={class:"overflow-x-auto"},W={class:"min-w-full divide-y divide-gray-200"},G={class:"divide-y divide-gray-200"},I={key:0},J={colspan:"5",class:"px-6 py-8 text-center text-gray-500"},K={class:"hover:bg-gray-100"},R={class:"whitespace-nowrap px-6 py-4"},X={class:"text-sm font-medium text-gray-900"},Y={class:"text-sm text-gray-500"},Z={class:"whitespace-normal break-words px-6 py-4"},ee={class:"text-sm text-gray-900"},te={class:"text-sm text-gray-500"},se={class:"whitespace-nowrap px-6 py-4"},ae={class:"text-sm text-gray-900"},ne={class:"whitespace-nowrap px-6 py-4"},oe={class:"text-sm text-gray-900"},le={class:"text-sm text-gray-500"},re={class:"whitespace-nowrap px-6 py-4"},ie={class:"flex flex-col gap-2"},ce={class:"mt-1 flex flex-col gap-1"},de=["onClick"],ue=["onClick"],xe=["onClick"],pe=["onClick"],ge={class:"whitespace-nowrap px-6 py-4 text-end"},me=["onClick"],ye={key:0,class:"bg-gray-50"},he={colspan:"5",class:"px-6 py-4"},_e={class:"overflow-x-auto"},ve={class:"min-w-full divide-y divide-gray-200"},be={class:"divide-y divide-gray-200"},fe={class:"whitespace-nowrap px-6 py-2 text-sm text-gray-900"},we={class:"whitespace-nowrap px-6 py-2 text-sm text-gray-900"},ke={class:"whitespace-nowrap px-6 py-2 text-sm text-gray-900"},Ce={class:"mt-5 flex items-center -space-x-px","aria-label":"Pagination"},Se=["innerHTML"],Le=["innerHTML"],Ae=Object.assign({layout:T},{__name:"Dashboard",props:{orders:Object},setup(d){const i=y(d.orders.data),m=y(null),g=y("All"),f=y([{label:"All Orders",value:"All"},{label:"Completed",value:"Completed"},{label:"Pending",value:"Pending"},{label:"Cancelled",value:"Cancelled"}]),w=O(()=>g.value==="All"?i.value:i.value.filter(r=>r.status===g.value)),k=r=>{const o=i.value.find(u=>u.id===r);o&&(o.expanded=!o.expanded)},C=r=>{m.value=m.value===r?null:r},_=(r,o)=>{const u=i.value.find(v=>v.id===r);u&&(u.status=o)},S=r=>r==="All"?i.value.length:i.value.filter(o=>o.status===r).length,L=r=>{switch(r){case"Completed":return"bg-green-100 text-green-800";case"Pending":return"bg-yellow-100 text-yellow-800";case"Cancelled":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}};return(r,o)=>{const u=b("Head"),v=b("Link");return a(),l(c,null,[P(u,{title:"Dashboard"}),e("div",$,[e("main",D,[e("div",M,[e("div",V,[e("div",q,[o[3]||(o[3]=e("h2",{class:"mb-4 text-xl font-bold text-gray-800"}," Orders List ",-1)),e("div",E,[e("nav",F,[(a(!0),l(c,null,h(f.value,t=>(a(),l("button",{key:t.value,onClick:s=>g.value=t.value,class:p(["inline-flex items-center gap-x-2 whitespace-nowrap border-b-2 px-1 py-4 text-sm",g.value===t.value?"border-blue-600 font-semibold text-blue-600":"border-transparent text-gray-500 hover:border-blue-600 hover:text-blue-600"])},[j(n(t.label)+" ",1),e("span",{class:p(["inline-flex items-center rounded-full px-2 py-0.5 text-xs font-medium",L(t.value)])},n(S(t.value)),3)],10,z))),128))])]),e("div",Q,[e("div",U,[e("table",W,[o[2]||(o[2]=e("thead",{class:"bg-gray-50"},[e("tr",null,[e("th",{scope:"col",class:"px-6 py-3 text-start text-xs font-medium uppercase text-gray-500"}," Consumer "),e("th",{scope:"col",class:"px-6 py-3 text-start text-xs font-medium uppercase text-gray-500"}," Location "),e("th",{scope:"col",class:"px-6 py-3 text-start text-xs font-medium uppercase text-gray-500"}," Ordered At "),e("th",{scope:"col",class:"px-6 py-3 text-start text-xs font-medium uppercase text-gray-500"}," Phone "),e("th",{scope:"col",class:"px-6 py-3 text-start text-xs font-medium uppercase text-gray-500"}," Status "),e("th",{scope:"col",class:"px-6 py-3 text-end text-xs font-medium uppercase text-gray-500"}," Action ")])],-1)),e("tbody",G,[i.value.length===0?(a(),l("tr",I,[e("td",J," No "+n(g.value.toLowerCase())+" orders found ",1)])):x("",!0),(a(!0),l(c,null,h(w.value,t=>(a(),l(c,{key:t.id},[e("tr",K,[e("td",R,[e("div",X,n(t.consumer.institution_name),1),e("div",Y,n(t.consumer.first_name)+" "+n(t.consumer.last_name),1)]),e("td",Z,[e("div",ee,n(t.consumer.subcity.subcity_name),1),e("div",te," Woreda "+n(t.consumer.woreda)+", "+n(t.consumer.special_place),1)]),e("td",se,[e("div",ae,n(new Date(t.created_at).toLocaleString()),1)]),e("td",ne,[e("div",oe," +251"+n(t.consumer.primary_phone),1),e("div",le," +251"+n(t.consumer.secondary_phone),1)]),e("td",re,[e("div",ie,[e("button",{class:p(["inline-flex items-center gap-x-2 rounded-lg border border-gray-200 px-3 py-1 text-sm font-medium text-white",{"bg-green-500 hover:bg-green-600":t.status==="Completed","bg-yellow-500 hover:bg-yellow-600":t.status==="Pending","bg-red-500 hover:bg-red-600":t.status==="Cancelled"}])},n(t.status),3),A(e("div",ce,[t.status!=="Completed"?(a(),l("button",{key:0,onClick:s=>_(t.id,"Completed"),class:"rounded bg-green-500 px-2 py-1 text-xs font-medium text-white hover:bg-green-600"}," Set Completed ",8,de)):x("",!0),t.status!=="Pending"?(a(),l("button",{key:1,onClick:s=>_(t.id,"Pending"),class:"rounded bg-yellow-500 px-2 py-1 text-xs font-medium text-white hover:bg-yellow-600"}," Set Pending ",8,ue)):x("",!0),t.status!=="Cancelled"?(a(),l("button",{key:2,onClick:s=>_(t.id,"Cancelled"),class:"rounded bg-red-500 px-2 py-1 text-xs font-medium text-white hover:bg-red-600"}," Set Cancelled ",8,xe)):x("",!0)],512),[[B,t.id===m.value]]),e("button",{onClick:s=>C(t.id),class:"rounded bg-gray-200 px-2 py-1 text-xs font-medium text-gray-700 hover:bg-gray-300"},n(t.id===m.value?"Hide Options":"Change Status"),9,pe)])]),e("td",ge,[e("button",{onClick:s=>k(t.id),class:"inline-flex items-center justify-center rounded-full border border-gray-200 bg-white p-1 text-gray-500 hover:bg-gray-100"},[(a(),l("svg",{class:p(["h-5 w-5 transition-transform duration-200",{"rotate-180":t.expanded}]),xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},o[0]||(o[0]=[e("path",{d:"m6 9 6 6 6-6"},null,-1)]),2))],8,me)])]),t.expanded?(a(),l("tr",ye,[e("td",he,[e("div",_e,[e("table",ve,[o[1]||(o[1]=e("thead",{class:"bg-gray-100"},[e("tr",null,[e("th",{scope:"col",class:"px-6 py-2 text-start text-xs font-medium uppercase text-gray-500"}," Product Name "),e("th",{scope:"col",class:"px-6 py-2 text-start text-xs font-medium uppercase text-gray-500"}," Unit "),e("th",{scope:"col",class:"px-6 py-2 text-start text-xs font-medium uppercase text-gray-500"}," Quantity ")])],-1)),e("tbody",be,[(a(!0),l(c,null,h(t.items,s=>(a(),l("tr",{key:s.product_id,class:"hover:bg-gray-100"},[e("td",fe,n(s.product.product_name),1),e("td",we,n(s.product.unit?s.product.unit.unit_name:"None"),1),e("td",ke,n(s.quantity),1)]))),128))])])])])])):x("",!0)],64))),128))])])])]),e("nav",Ce,[d.orders.links&&d.orders.links.length?(a(!0),l(c,{key:0},h(d.orders.links,(t,s)=>(a(),l(c,{key:s},[t.url?(a(),H(v,{key:0,"prserve-scroll":"",href:t.url,class:p([s===0?"rounded-l-md":"",s===d.orders.links.length-1?"rounded-r-md":"","min-h-9.5 min-w-9.5 flex items-center justify-center px-3 py-2 text-sm",t.active?"bg-gray-600 text-white":"border border-gray-200 text-gray-800 hover:bg-gray-100"])},{default:N(()=>[e("span",{innerHTML:t.label},null,8,Se)]),_:2},1032,["href","class"])):(a(),l("span",{key:1,innerHTML:t.label,class:p([s===0?"rounded-l-md":"",s===d.orders.links.length-1?"rounded-r-md":"","min-h-9.5 min-w-9.5 flex items-center justify-center border border-gray-200 px-3 py-2 text-gray-800"])},null,10,Le))],64))),128)):x("",!0)])])])])])])],64)}}});export{Ae as default};
