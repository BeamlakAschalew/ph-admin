import{r as p,w as V,W as k,a as U,c as d,o as i,b as H,d as e,e as c,g as n,v as r,F as b,h as x,p as h,t as u,k as B,l as E,n as j}from"./app-DYabxHTD.js";import{l as z}from"./lodash-CSv11EB1.js";import F from"./MainLayout-uL4R7h-I.js";const I={class:"flex-1"},N={class:"mx-auto w-full max-w-6xl px-4 py-6"},R={class:"mb-6 flex items-center justify-between"},D={class:"mb-6"},O={class:"overflow-hidden rounded-xl border bg-white shadow-sm"},Q={class:"overflow-x-auto"},G={class:"min-w-full divide-y divide-gray-200"},J={class:"divide-y divide-gray-200"},K={key:0},X={class:"whitespace-nowrap px-6 py-4"},Y={class:"text-sm font-medium text-gray-900"},Z={class:"text-sm text-gray-500"},ee={class:"whitespace-nowrap px-6 py-4"},te={class:"text-sm text-gray-900"},se={class:"text-sm text-gray-500"},le={class:"whitespace-nowrap px-6 py-4"},oe={class:"text-sm text-gray-900"},ne={key:0,class:"text-sm text-gray-500"},ie={class:"whitespace-nowrap px-6 py-4 text-end"},de={class:"flex justify-end gap-2"},re=["onClick"],ae=["onClick"],ue={class:"mt-5 flex items-center -space-x-px","aria-label":"Pagination"},me=["innerHTML"],pe=["innerHTML"],be={key:0,class:"fixed inset-0 z-50 overflow-y-auto","aria-labelledby":"modal-title",role:"dialog","aria-modal":"true"},fe={class:"flex min-h-screen items-end justify-center px-4 pb-20 pt-4 text-center sm:block sm:p-0"},ce={class:"inline-block transform overflow-hidden rounded-lg bg-white text-left align-bottom shadow-xl transition-all sm:my-8 sm:w-full sm:max-w-lg sm:align-middle"},xe={class:"bg-white px-4 pb-4 pt-5 sm:p-6 sm:pb-4"},ye={class:"mt-4 space-y-4"},ge=["value"],ve=["value"],we={class:"bg-gray-50 px-4 py-3 sm:flex sm:flex-row-reverse sm:px-6"},ke={key:1,class:"fixed inset-0 z-50 overflow-y-auto","aria-labelledby":"modal-title",role:"dialog","aria-modal":"true"},he={class:"flex min-h-screen items-end justify-center px-4 pb-20 pt-4 text-center sm:block sm:p-0"},_e={class:"inline-block transform overflow-hidden rounded-lg bg-white text-left align-bottom shadow-xl transition-all sm:my-8 sm:w-full sm:max-w-lg sm:align-middle"},Se={class:"bg-white px-4 pb-4 pt-5 sm:p-6 sm:pb-4"},Ce={class:"mt-4 space-y-4"},Ve=["value"],Ue=["value"],je={class:"bg-gray-50 px-4 py-3 sm:flex sm:flex-row-reverse sm:px-6"},Le={key:2,class:"fixed inset-0 z-50 overflow-y-auto","aria-labelledby":"modal-title",role:"dialog","aria-modal":"true"},Pe={class:"flex min-h-screen items-end justify-center px-4 pb-20 pt-4 text-center sm:block sm:p-0"},$e={class:"inline-block transform overflow-hidden rounded-lg bg-white text-left align-bottom shadow-xl transition-all sm:my-8 sm:w-full sm:max-w-lg sm:align-middle"},Me={class:"bg-gray-50 px-4 py-3 sm:flex sm:flex-row-reverse sm:px-6"},Ae=Object.assign({layout:F},{__name:"Suppliers",props:{suppliers:Object,filters:Object,subcities:Array},setup(m){const _=m,w=p(_.suppliers.data);V(()=>_.suppliers,a=>{w.value=a.data});const S=p(_.filters.search),L=z.debounce(a=>{k.get("/suppliers",{search:a},{preserveState:!0,replace:!0})},300);V(S,a=>{L(a)});const y=p(!1),g=p(!1),C=p(null),l=p({id:null,institution_name:"",first_name:"",last_name:"",special_place:"",primary_phone:"",secondary_phone:"",subcity_id:null,password:""});function P(a){console.log(a),l.value={...a},y.value=!0}function $(){w.value.findIndex(t=>t.id===l.value.id)!==-1&&(console.log(l.value),k.put(`/suppliers/${l.value.id}`,{...l.value})),y.value=!1}function M(a){C.value=a,g.value=!0}function q(){k.delete(`/suppliers/${C.value}`,{preserveState:!0,replace:!0}),g.value=!1,C.value=null}const v=p(!1),o=p({institution_name:"",first_name:"",last_name:"",special_place:"",primary_phone:"",secondary_phone:"",subcity_id:null,woreda:null,password:"",license_number:""});function T(){k.post("/suppliers",{...o.value}),v.value=!1,o.value={institution_name:"",first_name:"",last_name:"",special_place:"",primary_phone:"",secondary_phone:"",subcity_id:null,woreda:null,password:"",license_number:""}}return(a,t)=>{const W=U("Head"),A=U("Link");return i(),d(b,null,[H(W,{title:"Suppliers"}),e("main",I,[e("div",N,[e("div",R,[t[28]||(t[28]=e("h1",{class:"text-2xl font-bold text-gray-800"},"Suppliers List",-1)),e("button",{onClick:t[0]||(t[0]=s=>v.value=!0),class:"inline-flex items-center justify-center rounded-full bg-teal-600 p-2 text-white hover:bg-teal-700 focus:outline-none focus:ring-2 focus:ring-teal-500 focus:ring-offset-2"},t[27]||(t[27]=[e("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",class:"h-6 w-6"},[e("path",{d:"M5 12h14"}),e("path",{d:"M12 5v14"})],-1)]))]),e("div",D,[n(e("input",{type:"text","onUpdate:modelValue":t[1]||(t[1]=s=>S.value=s),class:"block w-full rounded-lg border-gray-200 px-4 py-3 text-sm focus:border-blue-500 focus:ring-blue-500",placeholder:"Search users..."},null,512),[[r,S.value]])]),e("div",O,[e("div",Q,[e("table",G,[t[30]||(t[30]=e("thead",{class:"bg-gray-50"},[e("tr",null,[e("th",{scope:"col",class:"px-6 py-3 text-start text-xs font-medium uppercase text-gray-500"}," Institution "),e("th",{scope:"col",class:"px-6 py-3 text-start text-xs font-medium uppercase text-gray-500"}," Location "),e("th",{scope:"col",class:"px-6 py-3 text-start text-xs font-medium uppercase text-gray-500"}," Phone "),e("th",{scope:"col",class:"px-6 py-3 text-end text-xs font-medium uppercase text-gray-500"}," Actions ")])],-1)),e("tbody",J,[w.value.length===0?(i(),d("tr",K,t[29]||(t[29]=[e("td",{colspan:"3",class:"px-6 py-8 text-center text-gray-500"}," No suppliers found ",-1)]))):c("",!0),(i(!0),d(b,null,x(w.value,s=>(i(),d("tr",{key:s.id,class:"hover:bg-gray-100"},[e("td",X,[e("div",Y,u(s.institution_name),1),e("div",Z,u(s.first_name)+" "+u(s.last_name),1)]),e("td",ee,[e("div",te,u(s.subcity.subcity_name),1),e("div",se," Woreda "+u(s.woreda)+" "+u(s.special_place),1)]),e("td",le,[e("div",oe,u(s.primary_phone),1),s.secondary_phone?(i(),d("div",ne,u(s.secondary_phone),1)):c("",!0)]),e("td",ie,[e("div",de,[e("button",{onClick:f=>P(s),class:"inline-flex items-center rounded-lg border border-gray-200 bg-white p-2 text-sm font-medium text-gray-500 hover:bg-gray-100"}," Edit ",8,re),e("button",{onClick:f=>M(s.id),class:"inline-flex items-center rounded-lg border border-gray-200 bg-white p-2 text-sm font-medium text-red-500 hover:bg-red-50"}," Delete ",8,ae)])])]))),128))])])])]),e("nav",ue,[m.suppliers.links&&m.suppliers.links.length?(i(!0),d(b,{key:0},x(m.suppliers.links,(s,f)=>(i(),d(b,{key:f},[s.url?(i(),B(A,{key:0,href:s.url,class:j([f===0?"rounded-l-md":"",f===m.suppliers.links.length-1?"rounded-r-md":"","min-h-9.5 min-w-9.5 flex items-center justify-center px-3 py-2 text-sm",s.active?"bg-gray-600 text-white":"border border-gray-200 text-gray-800 hover:bg-gray-100"])},{default:E(()=>[e("span",{innerHTML:s.label},null,8,me)]),_:2},1032,["href","class"])):(i(),d("span",{key:1,innerHTML:s.label,class:j([f===0?"rounded-l-md":"",f===m.suppliers.links.length-1?"rounded-r-md":"","min-h-9.5 min-w-9.5 flex items-center justify-center border border-gray-200 px-3 py-2 text-gray-800"])},null,10,pe))],64))),128)):c("",!0)])])]),y.value?(i(),d("div",be,[e("div",fe,[e("div",{class:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity",onClick:t[2]||(t[2]=s=>y.value=!1)}),e("div",ce,[e("div",xe,[t[42]||(t[42]=e("h3",{class:"text-lg font-medium leading-6 text-gray-900"}," Edit Supplier ",-1)),e("div",ye,[e("div",null,[t[31]||(t[31]=e("label",{for:"edit-firstname",class:"block text-sm font-medium text-gray-700"}," First name ",-1)),n(e("input",{type:"text",id:"edit-firstname",required:"","onUpdate:modelValue":t[3]||(t[3]=s=>l.value.first_name=s),class:"mt-1 block w-full rounded-md border-gray-300 px-3 py-2 shadow-sm focus:border-blue-500 focus:outline-none focus:ring-blue-500 sm:text-sm"},null,512),[[r,l.value.first_name]])]),e("div",null,[t[32]||(t[32]=e("label",{for:"edit-lastname",class:"block text-sm font-medium text-gray-700"}," Last name ",-1)),n(e("input",{type:"text",id:"edit-institution",required:"","onUpdate:modelValue":t[4]||(t[4]=s=>l.value.last_name=s),class:"mt-1 block w-full rounded-md border-gray-300 px-3 py-2 shadow-sm focus:border-blue-500 focus:outline-none focus:ring-blue-500 sm:text-sm"},null,512),[[r,l.value.last_name]])]),e("div",null,[t[33]||(t[33]=e("label",{for:"edit-institution",class:"block text-sm font-medium text-gray-700"}," Institution name ",-1)),n(e("input",{type:"text",id:"edit-institution",required:"","onUpdate:modelValue":t[5]||(t[5]=s=>l.value.institution_name=s),class:"mt-1 block w-full rounded-md border-gray-300 px-3 py-2 shadow-sm focus:border-blue-500 focus:outline-none focus:ring-blue-500 sm:text-sm"},null,512),[[r,l.value.institution_name]])]),e("div",null,[t[35]||(t[35]=e("label",{for:"edit-subcity",class:"block text-sm font-medium text-gray-700"}," Subcity ",-1)),n(e("select",{id:"edit-subcity",required:"","onUpdate:modelValue":t[6]||(t[6]=s=>l.value.subcity_id=s),class:"mt-1 block w-full rounded-md border-gray-300 px-3 py-2 shadow-sm focus:border-blue-500 focus:outline-none focus:ring-blue-500 sm:text-sm"},[t[34]||(t[34]=e("option",{disabled:"",value:""}," Select Subcity ",-1)),(i(!0),d(b,null,x(m.subcities,s=>(i(),d("option",{key:s.id,value:s.id},u(s.subcity_name),9,ge))),128))],512),[[h,l.value.subcity_id]])]),e("div",null,[t[37]||(t[37]=e("label",{for:"edit-woreda",class:"block text-sm font-medium text-gray-700"}," Woreda ",-1)),n(e("select",{id:"edit-woreda",required:"","onUpdate:modelValue":t[7]||(t[7]=s=>l.value.woreda=s),class:"mt-1 block w-full rounded-md border-gray-300 px-3 py-2 shadow-sm focus:border-blue-500 focus:outline-none focus:ring-blue-500 sm:text-sm"},[t[36]||(t[36]=e("option",{disabled:"",value:""},"Select Woreda",-1)),(i(),d(b,null,x(14,s=>e("option",{key:s,value:s},u(s),9,ve)),64))],512),[[h,l.value.woreda]])]),e("div",null,[t[38]||(t[38]=e("label",{for:"edit-special-place",class:"block text-sm font-medium text-gray-700"}," Special Place ",-1)),n(e("input",{type:"text",required:"",id:"edit-special-place","onUpdate:modelValue":t[8]||(t[8]=s=>l.value.special_place=s),class:"mt-1 block w-full rounded-md border-gray-300 px-3 py-2 shadow-sm focus:border-blue-500 focus:outline-none focus:ring-blue-500 sm:text-sm"},null,512),[[r,l.value.special_place]])]),e("div",null,[t[39]||(t[39]=e("label",{for:"edit-phone",class:"block text-sm font-medium text-gray-700"}," Primary Phone ",-1)),n(e("input",{type:"text",required:"",id:"edit-phone","onUpdate:modelValue":t[9]||(t[9]=s=>l.value.primary_phone=s),class:"mt-1 block w-full rounded-md border-gray-300 px-3 py-2 shadow-sm focus:border-blue-500 focus:outline-none focus:ring-blue-500 sm:text-sm"},null,512),[[r,l.value.primary_phone]])]),e("div",null,[t[40]||(t[40]=e("label",{for:"edit-phone",class:"block text-sm font-medium text-gray-700"}," Secondary Phone ",-1)),n(e("input",{type:"text",required:"",id:"edit-phone","onUpdate:modelValue":t[10]||(t[10]=s=>l.value.secondary_phone=s),class:"mt-1 block w-full rounded-md border-gray-300 px-3 py-2 shadow-sm focus:border-blue-500 focus:outline-none focus:ring-blue-500 sm:text-sm"},null,512),[[r,l.value.secondary_phone]])]),e("div",null,[t[41]||(t[41]=e("label",{for:"edit-password",class:"block text-sm font-medium text-gray-700"}," Password ",-1)),n(e("input",{type:"password",required:"",id:"edit-password","onUpdate:modelValue":t[11]||(t[11]=s=>l.value.password=s),class:"mt-1 block w-full rounded-md border-gray-300 px-3 py-2 shadow-sm focus:border-blue-500 focus:outline-none focus:ring-blue-500 sm:text-sm"},null,512),[[r,l.value.password]])])])]),e("div",we,[e("button",{type:"button",onClick:$,class:"inline-flex w-full justify-center rounded-md border border-transparent bg-blue-600 px-4 py-2 text-base font-medium text-white shadow-sm hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 sm:ml-3 sm:w-auto sm:text-sm"}," Save Changes "),e("button",{type:"button",onClick:t[12]||(t[12]=s=>y.value=!1),class:"mt-3 inline-flex w-full justify-center rounded-md border border-gray-300 bg-white px-4 py-2 text-base font-medium text-gray-700 shadow-sm hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 sm:ml-3 sm:mt-0 sm:w-auto sm:text-sm"}," Cancel ")])])])])):c("",!0),v.value?(i(),d("div",ke,[e("div",he,[e("div",{class:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity",onClick:t[13]||(t[13]=s=>v.value=!1)}),e("div",_e,[e("div",Se,[t[55]||(t[55]=e("h3",{class:"text-lg font-medium leading-6 text-gray-900"}," Add Supplier ",-1)),e("div",Ce,[e("div",null,[t[43]||(t[43]=e("label",{for:"add-firstname",class:"block text-sm font-medium text-gray-700"}," First name ",-1)),n(e("input",{type:"text",id:"add-firstname","onUpdate:modelValue":t[14]||(t[14]=s=>o.value.first_name=s),class:"mt-1 block w-full rounded-md border-gray-300 px-3 py-2 shadow-sm focus:border-blue-500 focus:outline-none focus:ring-blue-500 sm:text-sm"},null,512),[[r,o.value.first_name]])]),e("div",null,[t[44]||(t[44]=e("label",{for:"add-lastname",class:"block text-sm font-medium text-gray-700"}," Last name ",-1)),n(e("input",{type:"text",id:"add-lastname","onUpdate:modelValue":t[15]||(t[15]=s=>o.value.last_name=s),class:"mt-1 block w-full rounded-md border-gray-300 px-3 py-2 shadow-sm focus:border-blue-500 focus:outline-none focus:ring-blue-500 sm:text-sm"},null,512),[[r,o.value.last_name]])]),e("div",null,[t[45]||(t[45]=e("label",{for:"add-institution",class:"block text-sm font-medium text-gray-700"}," Institution name ",-1)),n(e("input",{type:"text",id:"add-institution","onUpdate:modelValue":t[16]||(t[16]=s=>o.value.institution_name=s),class:"mt-1 block w-full rounded-md border-gray-300 px-3 py-2 shadow-sm focus:border-blue-500 focus:outline-none focus:ring-blue-500 sm:text-sm"},null,512),[[r,o.value.institution_name]])]),e("div",null,[t[47]||(t[47]=e("label",{for:"add-subcity",class:"block text-sm font-medium text-gray-700"}," Subcity ",-1)),n(e("select",{id:"add-subcity","onUpdate:modelValue":t[17]||(t[17]=s=>o.value.subcity_id=s),class:"mt-1 block w-full rounded-md border-gray-300 px-3 py-2 shadow-sm focus:border-blue-500 focus:outline-none focus:ring-blue-500 sm:text-sm"},[t[46]||(t[46]=e("option",{disabled:"",value:""}," Select Subcity ",-1)),(i(!0),d(b,null,x(m.subcities,s=>(i(),d("option",{key:s.id,value:s.id},u(s.subcity_name),9,Ve))),128))],512),[[h,o.value.subcity_id]])]),e("div",null,[t[49]||(t[49]=e("label",{for:"add-woreda",class:"block text-sm font-medium text-gray-700"}," Woreda ",-1)),n(e("select",{id:"add-woreda","onUpdate:modelValue":t[18]||(t[18]=s=>o.value.woreda=s),class:"mt-1 block w-full rounded-md border-gray-300 px-3 py-2 shadow-sm focus:border-blue-500 focus:outline-none focus:ring-blue-500 sm:text-sm"},[t[48]||(t[48]=e("option",{disabled:"",value:""},"Select Woreda",-1)),(i(),d(b,null,x(14,s=>e("option",{key:s,value:s},u(s),9,Ue)),64))],512),[[h,o.value.woreda]])]),e("div",null,[t[50]||(t[50]=e("label",{for:"add-special-place",class:"block text-sm font-medium text-gray-700"}," Special Place ",-1)),n(e("input",{type:"text",id:"add-special-place","onUpdate:modelValue":t[19]||(t[19]=s=>o.value.special_place=s),class:"mt-1 block w-full rounded-md border-gray-300 px-3 py-2 shadow-sm focus:border-blue-500 focus:outline-none focus:ring-blue-500 sm:text-sm"},null,512),[[r,o.value.special_place]])]),e("div",null,[t[51]||(t[51]=e("label",{for:"add-phone",class:"block text-sm font-medium text-gray-700"}," Primary Phone ",-1)),n(e("input",{type:"text",id:"add-phone","onUpdate:modelValue":t[20]||(t[20]=s=>o.value.primary_phone=s),class:"mt-1 block w-full rounded-md border-gray-300 px-3 py-2 shadow-sm focus:border-blue-500 focus:outline-none focus:ring-blue-500 sm:text-sm"},null,512),[[r,o.value.primary_phone]])]),e("div",null,[t[52]||(t[52]=e("label",{for:"add-phone",class:"block text-sm font-medium text-gray-700"}," Secondary Phone ",-1)),n(e("input",{type:"text",id:"add-phone","onUpdate:modelValue":t[21]||(t[21]=s=>o.value.secondary_phone=s),class:"mt-1 block w-full rounded-md border-gray-300 px-3 py-2 shadow-sm focus:border-blue-500 focus:outline-none focus:ring-blue-500 sm:text-sm"},null,512),[[r,o.value.secondary_phone]])]),e("div",null,[t[53]||(t[53]=e("label",{for:"add-password",class:"block text-sm font-medium text-gray-700"}," Password ",-1)),n(e("input",{type:"password",id:"add-password","onUpdate:modelValue":t[22]||(t[22]=s=>o.value.password=s),class:"mt-1 block w-full rounded-md border-gray-300 px-3 py-2 shadow-sm focus:border-blue-500 focus:outline-none focus:ring-blue-500 sm:text-sm"},null,512),[[r,o.value.password]])]),e("div",null,[t[54]||(t[54]=e("label",{for:"add-license_number",class:"block text-sm font-medium text-gray-700"}," License ",-1)),n(e("input",{type:"text",id:"add-license_number","onUpdate:modelValue":t[23]||(t[23]=s=>o.value.license_number=s),class:"mt-1 block w-full rounded-md border-gray-300 px-3 py-2 shadow-sm focus:border-blue-500 focus:outline-none focus:ring-blue-500 sm:text-sm"},null,512),[[r,o.value.license_number]])])])]),e("div",je,[e("button",{type:"button",onClick:T,class:"inline-flex w-full justify-center rounded-md border border-transparent bg-blue-600 px-4 py-2 text-base font-medium text-white shadow-sm hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 sm:ml-3 sm:w-auto sm:text-sm"}," Add Supplier "),e("button",{type:"button",onClick:t[24]||(t[24]=s=>v.value=!1),class:"mt-3 inline-flex w-full justify-center rounded-md border border-gray-300 bg-white px-4 py-2 text-base font-medium text-gray-700 shadow-sm hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 sm:ml-3 sm:mt-0 sm:w-auto sm:text-sm"}," Cancel ")])])])])):c("",!0),g.value?(i(),d("div",Le,[e("div",Pe,[e("div",{class:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity",onClick:t[25]||(t[25]=s=>g.value=!1)}),e("div",$e,[t[56]||(t[56]=e("div",{class:"bg-white px-4 pb-4 pt-5 sm:p-6 sm:pb-4"},[e("h3",{class:"text-lg font-medium leading-6 text-gray-900"}," Remove Supplier "),e("p",{class:"mt-2 text-sm text-gray-500"}," Are you sure you want to remove this supplier? This action cannot be undone. ")],-1)),e("div",Me,[e("button",{type:"button",onClick:q,class:"inline-flex w-full justify-center rounded-md border border-transparent bg-red-600 px-4 py-2 text-base font-medium text-white shadow-sm hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-offset-2 sm:ml-3 sm:w-auto sm:text-sm"}," Remove "),e("button",{type:"button",onClick:t[26]||(t[26]=s=>g.value=!1),class:"mt-3 inline-flex w-full justify-center rounded-md border border-gray-300 bg-white px-4 py-2 text-base font-medium text-gray-700 shadow-sm hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 sm:ml-3 sm:mt-0 sm:w-auto sm:text-sm"}," Cancel ")])])])])):c("",!0)],64)}}});export{Ae as default};
