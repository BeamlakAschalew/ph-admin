import{r as _,w as g,W as x,q as L,a as y,c as n,o as r,b as C,d as e,g as H,v as M,e as m,F as p,h,t as a,k as P,l as T,n as v}from"./app-CDLs_WLj.js";import{l as B}from"./lodash-B2Y5U3Ic.js";import N from"./MainLayout-C96lmffq.js";const V={class:"flex min-h-screen flex-col"},U={class:"flex-1"},W={class:"mx-auto w-full max-w-6xl px-4 py-6"},$={class:"mb-6"},A={class:"mt-6 overflow-hidden rounded-xl border bg-white shadow-sm"},D={class:"overflow-x-auto"},E={class:"min-w-full divide-y divide-gray-200"},F={class:"divide-y divide-gray-200"},O={key:0},q={class:"whitespace-nowrap px-6 py-4"},z={class:"text-sm font-medium text-gray-900"},I={class:"text-sm text-gray-500"},Q={class:"whitespace-nowrap px-6 py-4"},R={class:"text-sm text-gray-900"},G={class:"text-sm text-gray-500"},J={class:"whitespace-nowrap px-6 py-4"},K={class:"text-sm text-gray-900"},X={key:0,class:"text-sm text-gray-500"},Y={class:"whitespace-nowrap px-6 py-4 text-end"},Z={class:"flex justify-end gap-2"},ee=["onClick"],te=["onClick"],se={class:"mt-5 flex items-center -space-x-px","aria-label":"Pagination"},re=["innerHTML"],oe=["innerHTML"],le=Object.assign({layout:N},{__name:"PendingSuppliers",props:{suppliers:{type:Object}},setup(b){const c=b,d=_(c.suppliers.data);g(()=>c.suppliers,s=>{d.value=s.data});const u=_(""),f=B.debounce(s=>{x.get("/admin/pending-suppliers",{search:s},{preserveState:!0,replace:!0})},300);g(u,s=>{f(s)});const l=L(()=>c.suppliers.links),w=s=>{x.post("/admin/pending-suppliers",{id:s,action:"approve"},{preserveScroll:!0,preserveState:!0})},k=s=>{x.post("pending-supplierspending-suppliers/pending-suppliers",{id:s,action:"reject"},{preserveScroll:!0,preserveState:!0})};return(s,o)=>{const S=y("Head"),j=y("Link");return r(),n(p,null,[C(S,{title:"Pending suppliers"}),e("div",V,[e("main",U,[e("div",W,[o[3]||(o[3]=e("div",{class:"mb-6 flex items-center justify-between"},[e("h1",{class:"text-2xl font-bold text-gray-800"}," Pending Suppliers ")],-1)),e("div",$,[H(e("input",{type:"text","onUpdate:modelValue":o[0]||(o[0]=t=>u.value=t),class:"block w-full rounded-lg border-gray-200 px-4 py-3 text-sm focus:border-blue-500 focus:ring-blue-500",placeholder:"Search pending suppliers..."},null,512),[[M,u.value]])]),e("div",A,[e("div",D,[e("table",E,[o[2]||(o[2]=e("thead",{class:"bg-gray-50"},[e("tr",null,[e("th",{scope:"col",class:"px-6 py-3 text-start text-xs font-medium uppercase text-gray-500"}," Institution "),e("th",{scope:"col",class:"px-6 py-3 text-start text-xs font-medium uppercase text-gray-500"}," Location "),e("th",{scope:"col",class:"px-6 py-3 text-start text-xs font-medium uppercase text-gray-500"}," Phone "),e("th",{scope:"col",class:"px-6 py-3 text-end text-xs font-medium uppercase text-gray-500"}," Actions ")])],-1)),e("tbody",F,[d.value.length===0?(r(),n("tr",O,o[1]||(o[1]=[e("td",{colspan:"4",class:"px-6 py-8 text-center text-gray-500"}," No pending consumers found ",-1)]))):m("",!0),(r(!0),n(p,null,h(d.value,t=>(r(),n("tr",{key:t.id,class:"hover:bg-gray-100"},[e("td",q,[e("div",z,a(t.institution_name),1),e("div",I,a(t.first_name)+" "+a(t.last_name),1)]),e("td",Q,[e("div",R,a(t.subcity.subcity_name),1),e("div",G," Woreda "+a(t.woreda)+" "+a(t.special_place),1)]),e("td",J,[e("div",K," +251"+a(t.primary_phone),1),t.secondary_phone?(r(),n("div",X," +251"+a(t.secondary_phone),1)):m("",!0)]),e("td",Y,[e("div",Z,[e("button",{onClick:i=>w(t.id),class:"inline-flex items-center gap-x-1 rounded-lg border border-transparent bg-green-500 px-3 py-1 text-sm font-medium text-white hover:bg-green-600"}," Approve ",8,ee),e("button",{onClick:i=>k(t.id),class:"inline-flex items-center gap-x-1 rounded-lg border border-transparent bg-red-500 px-3 py-1 text-sm font-medium text-white hover:bg-red-600"}," Reject ",8,te)])])]))),128))])])])]),e("nav",se,[l.value&&l.value.length?(r(!0),n(p,{key:0},h(l.value,(t,i)=>(r(),n(p,{key:i},[t.url?(r(),P(j,{key:0,href:t.url,"preserve-state":"","preserve-scroll":"",class:v([i===0?"rounded-l-md":"",i===l.value.length-1?"rounded-r-md":"","min-h-9.5 min-w-9.5 flex items-center justify-center px-3 py-2 text-sm",t.active?"bg-gray-600 text-white":"border border-gray-200 text-gray-800 hover:bg-gray-100"])},{default:T(()=>[e("span",{innerHTML:t.label},null,8,re)]),_:2},1032,["href","class"])):(r(),n("span",{key:1,innerHTML:t.label,class:v([i===0?"rounded-l-md":"",i===l.value.length-1?"rounded-r-md":"","min-h-9.5 min-w-9.5 flex items-center justify-center border border-gray-200 px-3 py-2 text-gray-800"])},null,10,oe))],64))),128)):m("",!0)])])])])],64)}}});export{le as default};
