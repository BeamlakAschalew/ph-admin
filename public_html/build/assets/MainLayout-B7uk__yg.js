import{d as z,x as k,w as S,q as N,y as V,C as P,c as l,o as r,e,f as m,a as g,l as f,g as i,u as s,P as c,n as w,k as $,t as p,m as j,h as y,v,F as B,z as T}from"./app-CvV_jo76.js";const D={class:"z-50 flex w-full flex-wrap bg-blue-900 py-4 text-sm sm:flex-nowrap sm:justify-start"},H={class:"mx-auto w-full max-w-full px-4 sm:flex sm:items-center sm:justify-between","aria-label":"Global"},U={class:"flex items-center justify-between"},A={class:"sm:hidden"},F={key:0,class:"h-4 w-4",width:"16",height:"16",fill:"currentColor",viewBox:"0 0 16 16"},I={key:1,class:"h-4 w-4",width:"16",height:"16",fill:"currentColor",viewBox:"0 0 16 16"},O={class:"mt-5 flex flex-col gap-5 sm:mt-0 sm:flex-row sm:items-center sm:justify-end sm:pl-5"},q={key:1,class:"hs-dropdown relative inline-flex"},G={class:"hs-dropdown-menu duration mt-2 hidden min-w-60 rounded-lg bg-white opacity-0 shadow-md transition-[opacity,margin] before:absolute before:-top-4 before:start-0 before:h-4 before:w-full after:absolute after:-bottom-4 after:start-0 after:h-4 after:w-full hs-dropdown-open:opacity-100",role:"menu","aria-orientation":"vertical","aria-labelledby":"hs-dropdown-default"},J={class:"space-y-0.5 p-1"},K={key:2,class:"hs-dropdown relative inline-flex"},Q={class:"hs-dropdown-menu duration mt-2 hidden min-w-60 rounded-lg bg-white opacity-0 shadow-md transition-[opacity,margin] before:absolute before:-top-4 before:start-0 before:h-4 before:w-full after:absolute after:-bottom-4 after:start-0 after:h-4 after:w-full hs-dropdown-open:opacity-100",role:"menu","aria-orientation":"vertical","aria-labelledby":"hs-dropdown-default"},R={class:"space-y-0.5 p-1"},W={class:"hs-dropdown relative inline-flex [--placement:bottom-right]"},X={id:"hs-dropdown-account",type:"button",class:"size-9.5 focus:outline-hidden inline-flex items-center justify-center gap-x-2 rounded-full border border-transparent text-sm font-semibold text-gray-800 disabled:pointer-events-none disabled:opacity-50 dark:text-white","aria-haspopup":"menu","aria-expanded":"false","aria-label":"Dropdown"},Y={class:"inline-flex size-8 items-center justify-center rounded-full bg-red-500 font-semibold text-white"},Z={class:"hs-dropdown-menu duration mt-2 hidden min-w-60 rounded-lg bg-white opacity-0 shadow-md transition-[opacity,margin] before:absolute before:-top-4 before:start-0 before:h-4 before:w-full after:absolute after:-bottom-4 after:start-0 after:h-4 after:w-full hs-dropdown-open:opacity-100",role:"menu","aria-orientation":"vertical","aria-labelledby":"hs-dropdown-account"},ee={class:"rounded-t-lg bg-gray-100 px-5 py-3"},te={class:"text-sm font-medium text-gray-800"},se={class:"space-y-0.5 p-1.5"},oe={key:0,class:"fixed inset-0 z-50 overflow-y-auto","aria-labelledby":"modal-title",role:"dialog","aria-modal":"true"},re={class:"flex min-h-screen items-end justify-center px-4 pb-20 pt-4 text-center sm:block sm:p-0"},le={class:"inline-block w-full max-w-md transform overflow-hidden rounded-lg bg-white text-left align-bottom shadow-xl transition-all sm:my-8 sm:w-full sm:max-w-lg sm:align-middle"},ae={class:"bg-white px-4 pb-4 pt-5 sm:p-6 sm:pb-4"},ne={class:"grid grid-cols-1 gap-4 sm:grid-cols-2"},ie={key:0,class:"mt-1 text-xs text-red-600"},de={key:0,class:"mt-1 text-xs text-red-600"},ue={class:"sm:col-span-2"},me={key:0,class:"mt-1 text-xs text-red-600"},pe={class:"sm:col-span-2"},fe={key:0,class:"mt-1 text-xs text-red-600"},ce={class:"sm:col-span-2"},ge={key:0,class:"mt-1 text-xs text-red-600"},be={class:"mt-6 flex justify-end gap-2"},xe=["disabled"],he={__name:"Navbar",setup(E){const b=z(!1),a=()=>{P().post("/admin/logout")},d=k().props.auth.user;S(()=>k().props.auth.user,x=>{Object.assign(d,x)});const _=N(()=>k().component);V(_);const n=x=>_.value===`Admin/${x}`?"font-bold text-white":"font-medium text-gray-300 hover:text-white",h=z(!1),o=P({first_name:d.first_name||"",last_name:d.last_name||"",phone_number:d.phone||"",password:"",password_confirmation:""}),L=()=>{h.value=!0,o.password="",o.password_confirmation=""},C=()=>{h.value=!1,o.clearErrors()},M=()=>{console.log("HIT IT"),o.put("/admin/profile",{onSuccess:()=>C()})};return(x,t)=>(r(),l(B,null,[e("header",D,[e("nav",H,[e("div",U,[g(s(c),{class:"flex-none text-xl font-bold text-white",href:"/admin"},{default:f(()=>t[6]||(t[6]=[e("img",{src:"/logo.png",class:"mr-2 inline-block h-10 w-10"},null,-1),i("PH Admin")])),_:1}),e("div",A,[e("button",{type:"button",class:"inline-flex items-center justify-center gap-2 rounded-md border border-gray-700 p-2 text-gray-200 transition-all hover:bg-blue-800 hover:text-white focus:outline-none focus:ring-2 focus:ring-blue-600 focus:ring-offset-2 focus:ring-offset-blue-800",onClick:t[0]||(t[0]=u=>b.value=!b.value)},[b.value?(r(),l("svg",I,t[8]||(t[8]=[e("path",{d:"M4.646 4.646a.5.5 0 0 1 .708 0L8 7.293l2.646-2.647a.5.5 0 0 1 .708.708L8.707 8l2.647 2.646a.5.5 0 0 1-.708.708L8 8.707l-2.646 2.647a.5.5 0 0 1-.708-.708L7.293 8 4.646 5.354a.5.5 0 0 1 0-.708z"},null,-1)]))):(r(),l("svg",F,t[7]||(t[7]=[e("path",{"fill-rule":"evenodd",d:"M2.5 12a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5zm0-4a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5zm0-4a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5z"},null,-1)])))])])]),e("div",{class:w([{hidden:!b.value},"grow basis-full overflow-hidden transition-all duration-300 sm:block"])},[e("div",O,[g(s(c),{class:w(n("Dashboard")),href:"/admin/"},{default:f(()=>t[9]||(t[9]=[i("Home")])),_:1},8,["class"]),g(s(c),{class:w(n("Suppliers")),href:"/admin/suppliers"},{default:f(()=>t[10]||(t[10]=[i("Suppliers")])),_:1},8,["class"]),g(s(c),{class:w(n("Products")),href:"/admin/products"},{default:f(()=>t[11]||(t[11]=[i("Products")])),_:1},8,["class"]),x.$page.props.auth.user_role==="superadmin"?(r(),$(s(c),{key:0,class:w(n("Admins")),href:"/admin/admins"},{default:f(()=>t[12]||(t[12]=[i("Admins")])),_:1},8,["class"])):m("",!0),x.$page.props.auth.user_role==="superadmin"?(r(),l("div",q,[t[15]||(t[15]=e("button",{id:"hs-dropdown-default",type:"button",class:"hs-dropdown-toggle focus:outline-hidden flex w-full items-center font-medium text-gray-300 hover:text-white","aria-haspopup":"menu","aria-expanded":"false","aria-label":"Dropdown"},[i(" Pending "),e("svg",{class:"size-4 hs-dropdown-open:rotate-180",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[e("path",{d:"m6 9 6 6 6-6"})])],-1)),e("div",G,[e("div",J,[g(s(c),{class:"focus:outline-hidden flex items-center gap-x-3.5 rounded-lg px-3 py-2 text-sm text-gray-800 hover:bg-gray-100 focus:bg-gray-100",href:"/admin/pending-consumers"},{default:f(()=>t[13]||(t[13]=[i(" Pending Consumers ")])),_:1}),g(s(c),{class:"focus:outline-hidden flex items-center gap-x-3.5 rounded-lg px-3 py-2 text-sm text-gray-800 hover:bg-gray-100 focus:bg-gray-100",href:"/admin/pending-suppliers"},{default:f(()=>t[14]||(t[14]=[i(" Pending Suppliers ")])),_:1})])])])):m("",!0),x.$page.props.auth.user_role==="superadmin"?(r(),l("div",K,[t[18]||(t[18]=e("button",{id:"hs-dropdown-default",type:"button",class:"hs-dropdown-toggle focus:outline-hidden flex w-full items-center font-medium text-gray-300 hover:text-white","aria-haspopup":"menu","aria-expanded":"false","aria-label":"Dropdown"},[i(" Users "),e("svg",{class:"size-4 hs-dropdown-open:rotate-180",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[e("path",{d:"m6 9 6 6 6-6"})])],-1)),e("div",Q,[e("div",R,[g(s(c),{class:"focus:outline-hidden flex items-center gap-x-3.5 rounded-lg px-3 py-2 text-sm text-gray-800 hover:bg-gray-100 focus:bg-gray-100",href:"/admin/consumers"},{default:f(()=>t[16]||(t[16]=[i(" Consumers ")])),_:1}),g(s(c),{class:"focus:outline-hidden flex items-center gap-x-3.5 rounded-lg px-3 py-2 text-sm text-gray-800 hover:bg-gray-100 focus:bg-gray-100",href:"/admin/suppliers"},{default:f(()=>t[17]||(t[17]=[i(" Suppliers ")])),_:1})])])])):m("",!0),e("div",W,[e("button",X,[e("span",Y,p(s(d).first_name[0])+p(s(d).last_name[0]),1)]),e("div",Z,[e("div",ee,[t[19]||(t[19]=e("p",{class:"text-sm text-gray-500"}," Signed in as ",-1)),e("p",te,p(s(d).first_name)+" +251"+p(s(d).phone),1)]),e("div",se,[e("a",{class:"focus:outline-hidden flex items-center gap-x-3.5 rounded-lg px-3 py-2 text-sm text-gray-800 hover:bg-gray-100 focus:bg-gray-100",onClick:L}," Edit profile "),e("form",{onSubmit:j(a,["prevent"])},t[20]||(t[20]=[e("button",{class:"focus:outline-hidden flex w-full items-center gap-x-3.5 rounded-lg px-3 py-2 text-sm text-gray-800 hover:bg-gray-100 focus:bg-gray-100",href:"#"}," Logout ",-1)]),32)])])])])],2)])]),h.value?(r(),l("div",oe,[e("div",re,[e("div",{class:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity",onClick:C}),e("div",le,[e("div",ae,[t[26]||(t[26]=e("h3",{class:"text-lg font-medium leading-6 text-gray-900",id:"modal-title"}," Edit Profile ",-1)),e("form",{class:"mt-4 space-y-4",onSubmit:j(M,["prevent"])},[e("div",ne,[e("div",null,[t[21]||(t[21]=e("label",{class:"block text-sm font-medium text-gray-700"},"First Name",-1)),y(e("input",{type:"text","onUpdate:modelValue":t[1]||(t[1]=u=>s(o).first_name=u),class:"mt-1 block w-full rounded-md border-gray-300 px-3 py-2 shadow-sm focus:border-blue-500 focus:outline-none focus:ring-blue-500 sm:text-sm"},null,512),[[v,s(o).first_name]]),s(o).errors.first_name?(r(),l("p",ie,p(s(o).errors.first_name),1)):m("",!0)]),e("div",null,[t[22]||(t[22]=e("label",{class:"block text-sm font-medium text-gray-700"},"Last Name",-1)),y(e("input",{type:"text","onUpdate:modelValue":t[2]||(t[2]=u=>s(o).last_name=u),class:"mt-1 block w-full rounded-md border-gray-300 px-3 py-2 shadow-sm focus:border-blue-500 focus:outline-none focus:ring-blue-500 sm:text-sm"},null,512),[[v,s(o).last_name]]),s(o).errors.last_name?(r(),l("p",de,p(s(o).errors.last_name),1)):m("",!0)]),e("div",ue,[t[23]||(t[23]=e("label",{class:"block text-sm font-medium text-gray-700"},"Phone Number",-1)),y(e("input",{type:"text","onUpdate:modelValue":t[3]||(t[3]=u=>s(o).phone_number=u),class:"mt-1 block w-full rounded-md border-gray-300 px-3 py-2 shadow-sm focus:border-blue-500 focus:outline-none focus:ring-blue-500 sm:text-sm"},null,512),[[v,s(o).phone_number]]),s(o).errors.phone_number?(r(),l("p",me,p(s(o).errors.phone_number),1)):m("",!0)]),e("div",pe,[t[24]||(t[24]=e("label",{class:"block text-sm font-medium text-gray-700"},"New Password",-1)),y(e("input",{type:"password","onUpdate:modelValue":t[4]||(t[4]=u=>s(o).password=u),class:"mt-1 block w-full rounded-md border-gray-300 px-3 py-2 shadow-sm focus:border-blue-500 focus:outline-none focus:ring-blue-500 sm:text-sm",placeholder:"Leave blank to keep current password"},null,512),[[v,s(o).password]]),s(o).errors.password?(r(),l("p",fe,p(s(o).errors.password),1)):m("",!0)]),e("div",ce,[t[25]||(t[25]=e("label",{class:"block text-sm font-medium text-gray-700"},"Confirm Password",-1)),y(e("input",{type:"password","onUpdate:modelValue":t[5]||(t[5]=u=>s(o).password_confirmation=u),class:"mt-1 block w-full rounded-md border-gray-300 px-3 py-2 shadow-sm focus:border-blue-500 focus:outline-none focus:ring-blue-500 sm:text-sm",placeholder:"Leave blank to keep current password"},null,512),[[v,s(o).password_confirmation]]),s(o).errors.password_confirmation?(r(),l("p",ge,p(s(o).errors.password_confirmation),1)):m("",!0)])]),e("div",be,[e("button",{type:"button",onClick:C,class:"rounded-md bg-gray-200 px-4 py-2 text-sm text-gray-800"}," Cancel "),e("button",{type:"submit",class:"rounded-md bg-blue-600 px-4 py-2 text-sm text-white",disabled:s(o).processing}," Save Changes ",8,xe)])],32)])])])])):m("",!0)],64))}},we={class:"flex min-h-screen flex-col"},ye={key:0,class:"fixed right-4 top-4 z-50 mt-20"},_e={__name:"MainLayout",setup(E){const b=k(),a=z(b.props.flash.message);S(()=>b.props.flash.message,n=>{a.value=n,a.value&&setTimeout(()=>{a.value=null},5e3)}),b.props.flash.message&&setTimeout(()=>{a.value=null},5e3);const d=N(()=>{var n,h;return((n=a.value)==null?void 0:n.type)==="success"?"bg-green-500 text-white":((h=a.value)==null?void 0:h.type)==="error"?"bg-red-500 text-white":"bg-gray-500 text-white"});function _(){a.value=null}return(n,h)=>(r(),l("div",we,[g(he),a.value?(r(),l("div",ye,[e("div",{class:w([d.value,"flex items-center gap-4 rounded-md p-4 shadow-lg"])},[e("span",null,p(a.value.name),1),e("button",{onClick:_,class:"ml-4 text-xl font-bold"}," Ã— ")],2)])):m("",!0),T(n.$slots,"default")]))}};export{_e as default};
